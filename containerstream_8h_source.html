<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>C++ Rest SDK: include/cpprest/containerstream.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cloud.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C++ Rest SDK
   </div>
   <div id="projectbrief">The C++ REST SDK is a Microsoft project for cloud-based client-server communication in native code using a modern asynchronous C++ API design. This project aims to help C++ developers connect to and interact with services.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_88f64f1a6399c0540b2e612ed2d4d006.html">cpprest</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">containerstream.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">* ==++==</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">* Copyright (c) Microsoft Corporation. All rights reserved.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">* Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">* you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">* You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">* http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">* Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">* distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">* See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">* limitations under the License.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">* ==--==</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">* =+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">* This file defines a basic STL-container-based stream buffer. Reading from the buffer will not remove any data</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">* from it and seeking is thus supported.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">* For the latest on this and related APIs, please see http://casablanca.codeplex.com.</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">* =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">****/</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;queue&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;pplx/pplxtasks.h&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;cpprest/astreambuf.h&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;cpprest/streams.h&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_concurrency.html">Concurrency</a> { <span class="keyword">namespace </span>streams {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="comment">// Forward declarations</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1container__buffer.html">   41</a></span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _CollectionType&gt; <span class="keyword">class </span><a class="code" href="class_concurrency_1_1streams_1_1container__buffer.html">container_buffer</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keyword">namespace </span>details {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _CollectionType&gt;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html">   53</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html">basic_container_buffer</a> : <span class="keyword">public</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html">streams::details::streambuf_state_manager</a>&lt;typename _CollectionType::value_type&gt;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> _CollectionType::value_type _CharType;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> basic_streambuf&lt;_CharType&gt;::traits traits;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> basic_streambuf&lt;_CharType&gt;::int_type int_type;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> basic_streambuf&lt;_CharType&gt;::pos_type pos_type;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> basic_streambuf&lt;_CharType&gt;::off_type off_type;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a647343e25058b17cd73afe12cf5ff47e">   65</a></span>&#160;        _CollectionType&amp; <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a647343e25058b17cd73afe12cf5ff47e">collection</a>()</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordflow">return</span> m_data;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#aab3b3b249c171c5c9f249e93b8e3e8e7">   73</a></span>&#160;        <span class="keyword">virtual</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#aab3b3b249c171c5c9f249e93b8e3e8e7">~basic_container_buffer</a>()</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="comment">// Invoke the synchronous versions since we need to</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="comment">// purge the request queue before deleting the buffer</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#aa006a004495768b97e9718ef89a675f1">_close_read</a>();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#ad9bd370ba0b9a6e75e29a0d80903db34">_close_write</a>();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#af343d4627e24beac6726778d9d69622d">   86</a></span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#af343d4627e24beac6726778d9d69622d">can_seek</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#ae803b65c032ea6e9dcd54b92e0c9d512">is_open</a>(); }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a95e0854abbf6e1002372e5ffff3c4b97">   91</a></span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a95e0854abbf6e1002372e5ffff3c4b97">has_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#ae803b65c032ea6e9dcd54b92e0c9d512">is_open</a>(); }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a7ba5b293e0e73d0e09ddc67fb398899c">   97</a></span>&#160;        <span class="keyword">virtual</span> utility::size64_t <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a7ba5b293e0e73d0e09ddc67fb398899c">size</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword">        </span>{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="keywordflow">return</span> utility::size64_t(m_data.size());</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#acaa1f184f84d1084c18328e69c4c8791">  107</a></span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#acaa1f184f84d1084c18328e69c4c8791">buffer_size</a>(std::ios_base::openmode = std::ios_base::in)<span class="keyword"> const</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keyword">        </span>{</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#ad0d303f2025cb5160ed7d06d0b26a768">  118</a></span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#ad0d303f2025cb5160ed7d06d0b26a768">set_buffer_size</a>(<span class="keywordtype">size_t</span> , std::ios_base::openmode = std::ios_base::in)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#ac38043172f7d0b9a36b45f52c1c57205">  128</a></span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#ac38043172f7d0b9a36b45f52c1c57205">in_avail</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keyword">        </span>{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="comment">// See the comment in seek around the restriction that we do not allow read head to</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="comment">// seek beyond the current write_end.</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            _ASSERTE(m_current_position &lt;= m_data.size());</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <a class="code" href="classmsl_1_1safeint3_1_1_safe_int.html">msl::safeint3::SafeInt&lt;size_t&gt;</a> readhead(m_current_position);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <a class="code" href="classmsl_1_1safeint3_1_1_safe_int.html">msl::safeint3::SafeInt&lt;size_t&gt;</a> writeend(m_data.size());</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">return</span> (<span class="keywordtype">size_t</span>)(writeend - readhead);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;bool&gt;</a> _sync()</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="keywordflow">return</span> pplx::task_from_result(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;int_type&gt;</a> _putc(_CharType ch)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            int_type retVal = (this-&gt;write(&amp;ch, 1) == 1) ? static_cast&lt;int_type&gt;(ch) : traits::eof();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordflow">return</span> pplx::task_from_result&lt;int_type&gt;(retVal);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;size_t&gt;</a> _putn(<span class="keyword">const</span> _CharType *ptr, <span class="keywordtype">size_t</span> count)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">return</span> pplx::task_from_result&lt;size_t&gt;(this-&gt;write(ptr, count));</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a2d1210ef4e56839eede201fd5bf7d9dd">  160</a></span>&#160;        _CharType* <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a2d1210ef4e56839eede201fd5bf7d9dd">_alloc</a>(<span class="keywordtype">size_t</span> count)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#a548ca961ef6062e52094679745b5a3c2">can_write</a>()) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="comment">// Allocate space</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            resize_for_write(m_current_position+count);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="comment">// Let the caller copy the data</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="keywordflow">return</span> (_CharType*)&amp;m_data[m_current_position];</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a575137425d6998ee52732d90125880c7">  175</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a575137425d6998ee52732d90125880c7">_commit</a>(<span class="keywordtype">size_t</span> actual )</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="comment">// Update the write position and satisfy any pending reads</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            update_current_position(m_current_position+actual);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#aebb5c5fae35d57415d42d412c9e84ce0">  194</a></span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#aebb5c5fae35d57415d42d412c9e84ce0">acquire</a>(_Out_ _CharType*&amp; ptr, _Out_ <span class="keywordtype">size_t</span>&amp; count)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            ptr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            count = 0;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#aed2334bda427e1aab975a6ddc9179187">can_read</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            count = <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#ac38043172f7d0b9a36b45f52c1c57205">in_avail</a>();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">if</span> (count &gt; 0)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                ptr = (_CharType*)&amp;m_data[m_current_position];</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                <span class="comment">// Can only be open for read OR write, not both. If there is no data then</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                <span class="comment">// we have reached the end of the stream so indicate such with true.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a5b921431c5eea856f4fec536ce58d673">  222</a></span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a5b921431c5eea856f4fec536ce58d673">release</a>(_Out_writes_opt_ (count) _CharType *ptr, _In_ <span class="keywordtype">size_t</span> count)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">if</span> (ptr != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                update_current_position(m_current_position + count);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;size_t&gt;</a> _getn(_Out_writes_ (count) _CharType *ptr, _In_ <span class="keywordtype">size_t</span> count)</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">return</span> pplx::task_from_result(this-&gt;read(ptr, count));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordtype">size_t</span> _sgetn(_Out_writes_ (count) _CharType *ptr, _In_ <span class="keywordtype">size_t</span> count)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="keywordflow">return</span> this-&gt;read(ptr, count);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> _scopy(_Out_writes_ (count) _CharType *ptr, _In_ <span class="keywordtype">size_t</span> count)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">return</span> this-&gt;read(ptr, count, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;int_type&gt;</a> _bumpc()</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keywordflow">return</span> pplx::task_from_result(this-&gt;read_byte(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keyword">virtual</span> int_type _sbumpc()</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">return</span> this-&gt;read_byte(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;int_type&gt;</a> _getc()</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keywordflow">return</span> pplx::task_from_result(this-&gt;read_byte(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        int_type _sgetc()</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">return</span> this-&gt;read_byte(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;int_type&gt;</a> _nextc()</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            this-&gt;read_byte(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">return</span> pplx::task_from_result(this-&gt;read_byte(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;int_type&gt;</a> _ungetc()</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keyword">auto</span> pos = <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a84838b4b0c8744033a66502af46c08e1">seekoff</a>(-1, std::ios_base::cur, std::ios_base::in);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">if</span> ( pos == (pos_type)traits::eof())</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">return</span> pplx::task_from_result(traits::eof());</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#aa6c5d6cdc4f5dfcdd2859b4fa3872c95">getc</a>();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a5930518c77994f3000dc0cd3ac1e39c7">  284</a></span>&#160;        <span class="keyword">virtual</span> pos_type <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a5930518c77994f3000dc0cd3ac1e39c7">getpos</a>(std::ios_base::openmode mode)<span class="keyword"> const</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="keyword">        </span>{</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordflow">if</span> ( ((mode &amp; std::ios_base::in) &amp;&amp; !this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#aed2334bda427e1aab975a6ddc9179187">can_read</a>()) ||</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                 ((mode &amp; std::ios_base::out) &amp;&amp; !this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#a548ca961ef6062e52094679745b5a3c2">can_write</a>()))</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                 <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>pos_type<span class="keyword">&gt;</span>(traits::eof());</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>pos_type<span class="keyword">&gt;</span>(m_current_position);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#aa04c4bd7ed732a85db022f94337dd265">  300</a></span>&#160;        <span class="keyword">virtual</span> pos_type <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#aa04c4bd7ed732a85db022f94337dd265">seekpos</a>(pos_type position, std::ios_base::openmode mode)</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            pos_type beg(0);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="comment">// In order to support relative seeking from the end position we need to fix an end position.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="comment">// Technically, there is no end for the stream buffer as new writes would just expand the buffer.</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="comment">// For now, we assume that the current write_end is the end of the buffer. We use this artificial</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="comment">// end to restrict the read head from seeking beyond what is available.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            pos_type end(m_data.size());</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">if</span> (position &gt;= beg)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="keyword">auto</span> pos = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(position);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <span class="comment">// Read head</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="keywordflow">if</span> ((mode &amp; std::ios_base::in) &amp;&amp; this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#aed2334bda427e1aab975a6ddc9179187">can_read</a>())</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                    <span class="keywordflow">if</span> (position &lt;= end)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                        <span class="comment">// We do not allow reads to seek beyond the end or before the start position.</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                        update_current_position(pos);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>pos_type<span class="keyword">&gt;</span>(m_current_position);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                <span class="comment">// Write head</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                <span class="keywordflow">if</span> ((mode &amp; std::ios_base::out) &amp;&amp; this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#a548ca961ef6062e52094679745b5a3c2">can_write</a>())</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    <span class="comment">// Allocate space</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    resize_for_write(pos);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    <span class="comment">// Nothing to really copy</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    <span class="comment">// Update write head and satisfy read requests if any</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    update_current_position(pos);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>pos_type<span class="keyword">&gt;</span>(m_current_position);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>pos_type<span class="keyword">&gt;</span>(traits::eof());</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a84838b4b0c8744033a66502af46c08e1">  353</a></span>&#160;        <span class="keyword">virtual</span> pos_type <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a84838b4b0c8744033a66502af46c08e1">seekoff</a>(off_type offset, std::ios_base::seekdir way, std::ios_base::openmode mode)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            pos_type beg = 0;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            pos_type cur = <span class="keyword">static_cast&lt;</span>pos_type<span class="keyword">&gt;</span>(m_current_position);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            pos_type end = <span class="keyword">static_cast&lt;</span>pos_type<span class="keyword">&gt;</span>(m_data.size());</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">switch</span> ( way )</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="keywordflow">case</span> std::ios_base::beg:</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#aa04c4bd7ed732a85db022f94337dd265">seekpos</a>(beg + offset, mode);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordflow">case</span> std::ios_base::cur:</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#aa04c4bd7ed732a85db022f94337dd265">seekpos</a>(cur + offset, mode);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">case</span> std::ios_base::end:</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#aa04c4bd7ed732a85db022f94337dd265">seekpos</a>(end + offset, mode);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>pos_type<span class="keyword">&gt;</span>(traits::eof());</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _CollectionType1&gt; <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_concurrency_1_1streams_1_1container__buffer.html">streams::container_buffer</a>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html">basic_container_buffer</a>(std::ios_base::openmode mode)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            : <a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html">streambuf_state_manager</a>&lt;typename _CollectionType::value_type&gt;(mode),</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;              m_current_position(0)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            validate_mode(mode);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        basic_container_buffer(_CollectionType data, std::ios_base::openmode mode)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            : streambuf_state_manager&lt;typename _CollectionType::value_type&gt;(mode),</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;              m_data(std::move(data)),</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;              m_current_position((mode &amp; std::ios_base::in) ? 0 : m_data.<a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a7ba5b293e0e73d0e09ddc67fb398899c">size</a>())</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            validate_mode(mode);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">void</span> validate_mode(std::ios_base::openmode mode)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="comment">// Disallow simultaneous use of the stream buffer for writing and reading.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="keywordflow">if</span> ((mode &amp; std::ios_base::in) &amp;&amp; (mode &amp; std::ios_base::out))</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;this combination of modes on container stream not supported&quot;</span>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordtype">bool</span> can_satisfy(<span class="keywordtype">size_t</span>)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="comment">// We can always satisfy a read, at least partially, unless the</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="comment">// read position is at the very end of the buffer.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="keywordflow">return</span> (<a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#ac38043172f7d0b9a36b45f52c1c57205">in_avail</a>() &gt; 0);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        int_type read_byte(<span class="keywordtype">bool</span> advance = <span class="keyword">true</span>)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            _CharType value;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="keyword">auto</span> read_size = this-&gt;read(&amp;value, 1, advance);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="keywordflow">return</span> read_size == 1 ? <span class="keyword">static_cast&lt;</span>int_type<span class="keyword">&gt;</span>(value) : traits::eof();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordtype">size_t</span> read(_Out_writes_ (count) _CharType *ptr, _In_ <span class="keywordtype">size_t</span> count, <span class="keywordtype">bool</span> advance = <span class="keyword">true</span>)</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">if</span> (!can_satisfy(count))</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <a class="code" href="classmsl_1_1safeint3_1_1_safe_int.html">msl::safeint3::SafeInt&lt;size_t&gt;</a> request_size(count);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <a class="code" href="classmsl_1_1safeint3_1_1_safe_int.html">msl::safeint3::SafeInt&lt;size_t&gt;</a> read_size = request_size.Min(<a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#ac38043172f7d0b9a36b45f52c1c57205">in_avail</a>());</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keywordtype">size_t</span> newPos = m_current_position + read_size;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="keyword">auto</span> readBegin = begin(m_data) + m_current_position;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="keyword">auto</span> readEnd = begin(m_data) + newPos;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="comment">// Avoid warning C4996: Use checked iterators under SECURE_SCL</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            std::copy(readBegin, readEnd, stdext::checked_array_iterator&lt;_CharType *&gt;(ptr, count));</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            std::copy(readBegin, readEnd, ptr);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="preprocessor">#endif // _WIN32</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordflow">if</span> (advance)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                update_current_position(newPos);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <span class="keywordflow">return</span> (<span class="keywordtype">size_t</span>) read_size;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordtype">size_t</span> write(<span class="keyword">const</span> _CharType *ptr, <span class="keywordtype">size_t</span> count)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#a548ca961ef6062e52094679745b5a3c2">can_write</a>() || (count == 0)) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keyword">auto</span> newSize = m_current_position + count;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="comment">// Allocate space</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            resize_for_write(newSize);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="comment">// Copy the data</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            std::copy(ptr, ptr + count, begin(m_data) + m_current_position);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="comment">// Update write head and satisfy pending reads if any</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            update_current_position(newSize);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <span class="keywordflow">return</span> count;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordtype">void</span> resize_for_write(<span class="keywordtype">size_t</span> newPos)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="comment">// Resize the container if required</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="keywordflow">if</span> (newPos &gt; m_data.size())</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                m_data.resize(newPos);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordtype">void</span> update_current_position(<span class="keywordtype">size_t</span> newPos)</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="comment">// The new write head</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            m_current_position = newPos;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            _ASSERTE(m_current_position &lt;= m_data.size());</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="comment">// The actual data store</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        _CollectionType m_data;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="comment">// Read/write head</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordtype">size_t</span> m_current_position;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    };</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    } <span class="comment">// namespace details</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _CollectionType&gt;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keyword">class </span>container_buffer : <span class="keyword">public</span> streambuf&lt;typename _CollectionType::value_type&gt;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> _CollectionType::value_type char_type;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1container__buffer.html#a96117625376f0829cc948bb86848adb2">  533</a></span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1container__buffer.html#a96117625376f0829cc948bb86848adb2">container_buffer</a>(_CollectionType data, std::ios_base::openmode mode = std::ios_base::in)</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            : <a class="code" href="class_concurrency_1_1streams_1_1streambuf.html">streambuf</a>&lt;typename _CollectionType::value_type&gt;(</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                std::shared_ptr&lt;details::basic_container_buffer&lt;_CollectionType&gt;&gt;(new streams::details::basic_container_buffer&lt;_CollectionType&gt;(std::move(data), mode)))</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div>
<div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1container__buffer.html#ab15b34c38a0959b0d870c80a103edef1">  543</a></span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1container__buffer.html#ab15b34c38a0959b0d870c80a103edef1">container_buffer</a>(std::ios_base::openmode mode = std::ios_base::out)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            : <a class="code" href="class_concurrency_1_1streams_1_1streambuf.html">streambuf</a>&lt;typename _CollectionType::value_type&gt;(</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                std::shared_ptr&lt;details::basic_container_buffer&lt;_CollectionType&gt;&gt;(new details::basic_container_buffer&lt;_CollectionType&gt;(mode)))</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        _CollectionType&amp; collection()<span class="keyword"> const</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="keyword">        </span>{</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="keyword">auto</span> listBuf = <span class="keyword">static_cast&lt;</span><a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html">details::basic_container_buffer&lt;_CollectionType&gt;</a> *<span class="keyword">&gt;</span>(this-&gt;get_base().get());</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <span class="keywordflow">return</span> listBuf-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a647343e25058b17cd73afe12cf5ff47e">collection</a>();</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    };</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _CollectionType&gt;</div>
<div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1container__stream.html">  563</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_concurrency_1_1streams_1_1container__stream.html">container_stream</a></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> _CollectionType::value_type char_type;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="class_concurrency_1_1streams_1_1container__buffer.html">container_buffer&lt;_CollectionType&gt;</a> <a class="code" href="class_concurrency_1_1streams_1_1container__buffer.html">buffer_type</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1container__stream.html#af383bc7588da3fc873f20b5f409b044c">  575</a></span>&#160;        <span class="keyword">static</span> concurrency::streams::basic_istream&lt;char_type&gt; <a class="code" href="class_concurrency_1_1streams_1_1container__stream.html#af383bc7588da3fc873f20b5f409b044c">open_istream</a>(_CollectionType data)</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="keywordflow">return</span> concurrency::streams::basic_istream&lt;char_type&gt;(buffer_type(std::move(data), std::ios_base::in));</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1container__stream.html#a0243cd029e4e8ae733bbd075c11758b4">  584</a></span>&#160;        <span class="keyword">static</span> concurrency::streams::basic_ostream&lt;char_type&gt; <a class="code" href="class_concurrency_1_1streams_1_1container__stream.html#a0243cd029e4e8ae733bbd075c11758b4">open_ostream</a>()</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="keywordflow">return</span> concurrency::streams::basic_ostream&lt;char_type&gt;(buffer_type(std::ios_base::out));</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    };</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="namespace_concurrency_1_1streams.html#a40a995f7f550f34aa0dd5b8dfa339571">  594</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="class_concurrency_1_1streams_1_1container__stream.html">container_stream&lt;std::basic_string&lt;char&gt;</a>&gt; <a class="code" href="namespace_concurrency_1_1streams.html#a40a995f7f550f34aa0dd5b8dfa339571">stringstream</a>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="class_concurrency_1_1streams_1_1container__buffer.html">stringstream::buffer_type</a> <a class="code" href="class_concurrency_1_1streams_1_1container__buffer.html">stringstreambuf</a>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="class_concurrency_1_1streams_1_1container__stream.html">container_stream&lt;utility::string_t&gt;</a> <a class="code" href="class_concurrency_1_1streams_1_1container__stream.html">wstringstream</a>;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="class_concurrency_1_1streams_1_1container__buffer.html">wstringstream::buffer_type</a> <a class="code" href="class_concurrency_1_1streams_1_1container__buffer.html">wstringstreambuf</a>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1bytestream.html">  603</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_concurrency_1_1streams_1_1bytestream.html">bytestream</a></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _CollectionType&gt;</div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1bytestream.html#a486a64c76c3487ce5824bea314a19b4a">  614</a></span>&#160;        <span class="keyword">static</span> concurrency::streams::istream <a class="code" href="class_concurrency_1_1streams_1_1bytestream.html#a486a64c76c3487ce5824bea314a19b4a">open_istream</a>(_CollectionType data)</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <span class="keywordflow">return</span> concurrency::streams::istream(<a class="code" href="class_concurrency_1_1streams_1_1container__buffer.html">streams::container_buffer&lt;_CollectionType&gt;</a>(std::move(data), std::ios_base::in));</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _CollectionType&gt;</div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1bytestream.html#ab5afd42383ee0040cc5e60938c3759ad">  625</a></span>&#160;        <span class="keyword">static</span> concurrency::streams::ostream <a class="code" href="class_concurrency_1_1streams_1_1bytestream.html#ab5afd42383ee0040cc5e60938c3759ad">open_ostream</a>()</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <span class="keywordflow">return</span> concurrency::streams::ostream(<a class="code" href="class_concurrency_1_1streams_1_1container__buffer.html">streams::container_buffer&lt;_CollectionType&gt;</a>());</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;};</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;}} <span class="comment">// namespaces</span></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1container__buffer_html_ab15b34c38a0959b0d870c80a103edef1"><div class="ttname"><a href="class_concurrency_1_1streams_1_1container__buffer.html#ab15b34c38a0959b0d870c80a103edef1">Concurrency::streams::container_buffer::container_buffer</a></div><div class="ttdeci">container_buffer(std::ios_base::openmode mode=std::ios_base::out)</div><div class="ttdoc">Creates a container_buffer starting from an empty collection. </div><div class="ttdef"><b>Definition:</b> containerstream.h:543</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager_html_aa6c5d6cdc4f5dfcdd2859b4fa3872c95"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#aa6c5d6cdc4f5dfcdd2859b4fa3872c95">Concurrency::streams::details::streambuf_state_manager&lt; _CollectionType::value_type &gt;::getc</a></div><div class="ttdeci">virtual pplx::task&lt; int_type &gt; getc()</div><div class="ttdoc">Reads a single character from the stream without advancing the read position. </div><div class="ttdef"><b>Definition:</b> astreambuf.h:526</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager_html_ae803b65c032ea6e9dcd54b92e0c9d512"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#ae803b65c032ea6e9dcd54b92e0c9d512">Concurrency::streams::details::streambuf_state_manager&lt; _CollectionType::value_type &gt;::is_open</a></div><div class="ttdeci">virtual bool is_open() const</div><div class="ttdoc">Checks if the stream buffer is open. </div><div class="ttdef"><b>Definition:</b> astreambuf.h:390</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1streambuf_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1streambuf.html">Concurrency::streams::streambuf</a></div><div class="ttdoc">Reference-counted stream buffer. </div><div class="ttdef"><b>Definition:</b> astreambuf.h:804</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1bytestream_html_a486a64c76c3487ce5824bea314a19b4a"><div class="ttname"><a href="class_concurrency_1_1streams_1_1bytestream.html#a486a64c76c3487ce5824bea314a19b4a">Concurrency::streams::bytestream::open_istream</a></div><div class="ttdeci">static concurrency::streams::istream open_istream(_CollectionType data)</div><div class="ttdoc">Creates a single byte character input stream given an STL container. </div><div class="ttdef"><b>Definition:</b> containerstream.h:614</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1container__stream_html_a0243cd029e4e8ae733bbd075c11758b4"><div class="ttname"><a href="class_concurrency_1_1streams_1_1container__stream.html#a0243cd029e4e8ae733bbd075c11758b4">Concurrency::streams::container_stream::open_ostream</a></div><div class="ttdeci">static concurrency::streams::basic_ostream&lt; char_type &gt; open_ostream()</div><div class="ttdoc">Creates an output stream using an STL container as the storage. </div><div class="ttdef"><b>Definition:</b> containerstream.h:584</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_a7ba5b293e0e73d0e09ddc67fb398899c"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a7ba5b293e0e73d0e09ddc67fb398899c">Concurrency::streams::details::basic_container_buffer::size</a></div><div class="ttdeci">virtual utility::size64_t size() const </div><div class="ttdoc">Gets the size of the stream, if known. Calls to has_size will determine whether the result of size ca...</div><div class="ttdef"><b>Definition:</b> containerstream.h:97</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_acaa1f184f84d1084c18328e69c4c8791"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#acaa1f184f84d1084c18328e69c4c8791">Concurrency::streams::details::basic_container_buffer::buffer_size</a></div><div class="ttdeci">virtual size_t buffer_size(std::ios_base::openmode=std::ios_base::in) const </div><div class="ttdoc">Get the stream buffer size, if one has been set. </div><div class="ttdef"><b>Definition:</b> containerstream.h:107</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1container__stream_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1container__stream.html">Concurrency::streams::container_stream</a></div><div class="ttdoc">A static class to allow users to create input and out streams based off STL collections. The sole purpose of this class to avoid users from having to know anything about stream buffers. </div><div class="ttdef"><b>Definition:</b> containerstream.h:563</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager_html_aed2334bda427e1aab975a6ddc9179187"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#aed2334bda427e1aab975a6ddc9179187">Concurrency::streams::details::streambuf_state_manager&lt; _CollectionType::value_type &gt;::can_read</a></div><div class="ttdeci">virtual bool can_read() const</div><div class="ttdoc">can_read is used to determine whether a stream buffer will support read operations (get)...</div><div class="ttdef"><b>Definition:</b> astreambuf.h:373</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_ad0d303f2025cb5160ed7d06d0b26a768"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#ad0d303f2025cb5160ed7d06d0b26a768">Concurrency::streams::details::basic_container_buffer::set_buffer_size</a></div><div class="ttdeci">virtual void set_buffer_size(size_t, std::ios_base::openmode=std::ios_base::in)</div><div class="ttdoc">Sets the stream buffer implementation to buffer or not buffer. </div><div class="ttdef"><b>Definition:</b> containerstream.h:118</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager_html_aa006a004495768b97e9718ef89a675f1"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#aa006a004495768b97e9718ef89a675f1">Concurrency::streams::details::streambuf_state_manager&lt; _CollectionType::value_type &gt;::_close_read</a></div><div class="ttdeci">virtual pplx::task&lt; void &gt; _close_read()</div><div class="ttdoc">The real read head close operation, implementation should override it if there is any resource to be ...</div><div class="ttdef"><b>Definition:</b> astreambuf.h:711</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1container__buffer_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1container__buffer.html">Concurrency::streams::container_buffer</a></div><div class="ttdoc">The basic_container_buffer class serves as a memory-based steam buffer that supports writing or readi...</div><div class="ttdef"><b>Definition:</b> containerstream.h:41</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_aa04c4bd7ed732a85db022f94337dd265"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#aa04c4bd7ed732a85db022f94337dd265">Concurrency::streams::details::basic_container_buffer::seekpos</a></div><div class="ttdeci">virtual pos_type seekpos(pos_type position, std::ios_base::openmode mode)</div><div class="ttdoc">Seeks to the given position. </div><div class="ttdef"><b>Definition:</b> containerstream.h:300</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_aebb5c5fae35d57415d42d412c9e84ce0"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#aebb5c5fae35d57415d42d412c9e84ce0">Concurrency::streams::details::basic_container_buffer::acquire</a></div><div class="ttdeci">virtual bool acquire(_Out_ _CharType *&amp;ptr, _Out_ size_t &amp;count)</div><div class="ttdoc">Gets a pointer to the next already allocated contiguous block of data. </div><div class="ttdef"><b>Definition:</b> containerstream.h:194</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager_html_ad9bd370ba0b9a6e75e29a0d80903db34"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#ad9bd370ba0b9a6e75e29a0d80903db34">Concurrency::streams::details::streambuf_state_manager&lt; _CollectionType::value_type &gt;::_close_write</a></div><div class="ttdeci">virtual pplx::task&lt; void &gt; _close_write()</div><div class="ttdoc">The real write head close operation, implementation should override it if there is any resource to be...</div><div class="ttdef"><b>Definition:</b> astreambuf.h:720</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1bytestream_html_ab5afd42383ee0040cc5e60938c3759ad"><div class="ttname"><a href="class_concurrency_1_1streams_1_1bytestream.html#ab5afd42383ee0040cc5e60938c3759ad">Concurrency::streams::bytestream::open_ostream</a></div><div class="ttdeci">static concurrency::streams::ostream open_ostream()</div><div class="ttdoc">Creates a single byte character output stream using an STL container as storage. </div><div class="ttdef"><b>Definition:</b> containerstream.h:625</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager_html_a548ca961ef6062e52094679745b5a3c2"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#a548ca961ef6062e52094679745b5a3c2">Concurrency::streams::details::streambuf_state_manager&lt; _CollectionType::value_type &gt;::can_write</a></div><div class="ttdeci">virtual bool can_write() const</div><div class="ttdoc">can_write is used to determine whether a stream buffer will support write operations (put)...</div><div class="ttdef"><b>Definition:</b> astreambuf.h:381</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_a2d1210ef4e56839eede201fd5bf7d9dd"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a2d1210ef4e56839eede201fd5bf7d9dd">Concurrency::streams::details::basic_container_buffer::_alloc</a></div><div class="ttdeci">_CharType * _alloc(size_t count)</div><div class="ttdoc">Allocates a contiguous memory block and returns it. </div><div class="ttdef"><b>Definition:</b> containerstream.h:160</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_a84838b4b0c8744033a66502af46c08e1"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a84838b4b0c8744033a66502af46c08e1">Concurrency::streams::details::basic_container_buffer::seekoff</a></div><div class="ttdeci">virtual pos_type seekoff(off_type offset, std::ios_base::seekdir way, std::ios_base::openmode mode)</div><div class="ttdoc">Seeks to a position given by a relative offset. </div><div class="ttdef"><b>Definition:</b> containerstream.h:353</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html">Concurrency::streams::details::streambuf_state_manager</a></div><div class="ttdef"><b>Definition:</b> astreambuf.h:362</div></div>
<div class="ttc" id="classpplx_1_1task_html"><div class="ttname"><a href="classpplx_1_1task.html">pplx::task</a></div><div class="ttdoc">The Parallel Patterns Library (PPL) task class. A task object represents work that can be executed as...</div><div class="ttdef"><b>Definition:</b> pplxtasks.h:176</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_ac38043172f7d0b9a36b45f52c1c57205"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#ac38043172f7d0b9a36b45f52c1c57205">Concurrency::streams::details::basic_container_buffer::in_avail</a></div><div class="ttdeci">virtual size_t in_avail() const </div><div class="ttdoc">For any input stream, in_avail returns the number of characters that are immediately available to be ...</div><div class="ttdef"><b>Definition:</b> containerstream.h:128</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_a5930518c77994f3000dc0cd3ac1e39c7"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a5930518c77994f3000dc0cd3ac1e39c7">Concurrency::streams::details::basic_container_buffer::getpos</a></div><div class="ttdeci">virtual pos_type getpos(std::ios_base::openmode mode) const </div><div class="ttdoc">Gets the current read or write position in the stream. </div><div class="ttdef"><b>Definition:</b> containerstream.h:284</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1bytestream_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1bytestream.html">Concurrency::streams::bytestream</a></div><div class="ttdoc">The bytestream is a static class that allows an input stream to be constructed from any STL container...</div><div class="ttdef"><b>Definition:</b> containerstream.h:603</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1container__buffer_html_a96117625376f0829cc948bb86848adb2"><div class="ttname"><a href="class_concurrency_1_1streams_1_1container__buffer.html#a96117625376f0829cc948bb86848adb2">Concurrency::streams::container_buffer::container_buffer</a></div><div class="ttdeci">container_buffer(_CollectionType data, std::ios_base::openmode mode=std::ios_base::in)</div><div class="ttdoc">Creates a container_buffer given a collection, copying its data into the buffer. </div><div class="ttdef"><b>Definition:</b> containerstream.h:533</div></div>
<div class="ttc" id="namespace_concurrency_html"><div class="ttname"><a href="namespace_concurrency.html">Concurrency</a></div><div class="ttdef"><b>Definition:</b> astreambuf.h:37</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_a647343e25058b17cd73afe12cf5ff47e"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a647343e25058b17cd73afe12cf5ff47e">Concurrency::streams::details::basic_container_buffer::collection</a></div><div class="ttdeci">_CollectionType &amp; collection()</div><div class="ttdoc">Returns the underlying data container </div><div class="ttdef"><b>Definition:</b> containerstream.h:65</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_af343d4627e24beac6726778d9d69622d"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#af343d4627e24beac6726778d9d69622d">Concurrency::streams::details::basic_container_buffer::can_seek</a></div><div class="ttdeci">virtual bool can_seek() const </div><div class="ttdoc">can_seek is used to determine whether a stream buffer supports seeking. </div><div class="ttdef"><b>Definition:</b> containerstream.h:86</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_a5b921431c5eea856f4fec536ce58d673"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a5b921431c5eea856f4fec536ce58d673">Concurrency::streams::details::basic_container_buffer::release</a></div><div class="ttdeci">virtual void release(_Out_writes_opt_(count) _CharType *ptr, _In_ size_t count)</div><div class="ttdoc">Releases a block of data acquired using ::acquire method. This frees the stream buffer to de-allocate...</div><div class="ttdef"><b>Definition:</b> containerstream.h:222</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_a575137425d6998ee52732d90125880c7"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a575137425d6998ee52732d90125880c7">Concurrency::streams::details::basic_container_buffer::_commit</a></div><div class="ttdeci">void _commit(size_t actual)</div><div class="ttdoc">Submits a block already allocated by the stream buffer. </div><div class="ttdef"><b>Definition:</b> containerstream.h:175</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1container__stream_html_af383bc7588da3fc873f20b5f409b044c"><div class="ttname"><a href="class_concurrency_1_1streams_1_1container__stream.html#af383bc7588da3fc873f20b5f409b044c">Concurrency::streams::container_stream::open_istream</a></div><div class="ttdeci">static concurrency::streams::basic_istream&lt; char_type &gt; open_istream(_CollectionType data)</div><div class="ttdoc">Creates an input stream given an STL container. </div><div class="ttdef"><b>Definition:</b> containerstream.h:575</div></div>
<div class="ttc" id="namespace_concurrency_1_1streams_html_a40a995f7f550f34aa0dd5b8dfa339571"><div class="ttname"><a href="namespace_concurrency_1_1streams.html#a40a995f7f550f34aa0dd5b8dfa339571">Concurrency::streams::stringstream</a></div><div class="ttdeci">container_stream&lt; std::basic_string&lt; char &gt; &gt; stringstream</div><div class="ttdoc">The stringstream allows an input stream to be constructed from std::string or std::wstring For output...</div><div class="ttdef"><b>Definition:</b> containerstream.h:594</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html">Concurrency::streams::details::basic_container_buffer</a></div><div class="ttdoc">The basic_container_buffer class serves as a memory-based steam buffer that supports writing or readi...</div><div class="ttdef"><b>Definition:</b> containerstream.h:53</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_a95e0854abbf6e1002372e5ffff3c4b97"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#a95e0854abbf6e1002372e5ffff3c4b97">Concurrency::streams::details::basic_container_buffer::has_size</a></div><div class="ttdeci">virtual bool has_size() const </div><div class="ttdoc">has_size is used to determine whether a stream buffer supports size().  </div><div class="ttdef"><b>Definition:</b> containerstream.h:91</div></div>
<div class="ttc" id="classmsl_1_1safeint3_1_1_safe_int_html"><div class="ttname"><a href="classmsl_1_1safeint3_1_1_safe_int.html">msl::safeint3::SafeInt&lt; size_t &gt;</a></div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer_html_aab3b3b249c171c5c9f249e93b8e3e8e7"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__container__buffer.html#aab3b3b249c171c5c9f249e93b8e3e8e7">Concurrency::streams::details::basic_container_buffer::~basic_container_buffer</a></div><div class="ttdeci">virtual ~basic_container_buffer()</div><div class="ttdoc">Destructor </div><div class="ttdef"><b>Definition:</b> containerstream.h:73</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
