<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>C++ Rest SDK: include/cpprest/interopstream.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cloud.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C++ Rest SDK
   </div>
   <div id="projectbrief">The C++ REST SDK is a Microsoft project for cloud-based client-server communication in native code using a modern asynchronous C++ API design. This project aims to help C++ developers connect to and interact with services.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_88f64f1a6399c0540b2e612ed2d4d006.html">cpprest</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">interopstream.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">* ==++==</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">* Copyright (c) Microsoft Corporation. All rights reserved.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">* Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">* you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">* You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">* http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">* Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">* distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">* See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">* limitations under the License.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">* ==--==</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">* =+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">* Adapter classes for async and STD stream buffers, used to connect std-based and async-based APIs.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">* For the latest on this and related APIs, please see http://casablanca.codeplex.com.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">* =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">****/</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;pplx/pplxtasks.h&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;cpprest/astreambuf.h&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;cpprest/streams.h&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#if defined(_WIN32)</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#pragma warning(push)</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#pragma warning(disable : 4250)</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_concurrency.html">Concurrency</a> { <span class="keyword">namespace </span>streams {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1stdio__ostream.html">   38</a></span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CharType&gt; <span class="keyword">class </span><a class="code" href="class_concurrency_1_1streams_1_1stdio__ostream.html">stdio_ostream</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1stdio__istream.html">   39</a></span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CharType&gt; <span class="keyword">class </span><a class="code" href="class_concurrency_1_1streams_1_1stdio__istream.html">stdio_istream</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keyword">namespace </span>details {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _CharType&gt;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__stdio__buffer.html">   50</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__stdio__buffer.html">basic_stdio_buffer</a> : <span class="keyword">public</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html">streambuf_state_manager</a>&lt;_CharType&gt;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keyword">typedef</span> concurrency::streams::char_traits&lt;_CharType&gt; traits;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> traits::int_type int_type;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> traits::pos_type pos_type;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> traits::off_type off_type;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__stdio__buffer.html">basic_stdio_buffer</a>(_In_ std::basic_streambuf&lt;_CharType&gt;* <a class="code" href="class_concurrency_1_1streams_1_1streambuf.html">streambuf</a>, std::ios_base::openmode mode)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            : <a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html">streambuf_state_manager&lt;_CharType&gt;</a>(mode), m_buffer(streambuf)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__stdio__buffer.html#ad52eca58ab0b9f491d529396a1f4cf85">   68</a></span>&#160;        <span class="keyword">virtual</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__stdio__buffer.html#ad52eca58ab0b9f491d529396a1f4cf85">~basic_stdio_buffer</a>()</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#aa006a004495768b97e9718ef89a675f1">_close_read</a>();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#ad9bd370ba0b9a6e75e29a0d80903db34">_close_write</a>();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="comment">// The functions overridden below here are documented elsewhere.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment">// See astreambuf.h for further information.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> can_seek()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#ae803b65c032ea6e9dcd54b92e0c9d512">is_open</a>(); }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> has_size()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> in_avail()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">size_t</span>)m_buffer-&gt;in_avail(); }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> buffer_size(std::ios_base::openmode)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0; }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> set_buffer_size(<span class="keywordtype">size_t</span>, std::ios_base::openmode) { <span class="keywordflow">return</span>; }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;bool&gt;</a> _sync() { <span class="keywordflow">return</span> pplx::task_from_result(m_buffer-&gt;pubsync() == 0); }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;int_type&gt;</a> _putc(_CharType ch) { <span class="keywordflow">return</span> pplx::task_from_result(m_buffer-&gt;sputc(ch)); }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;size_t&gt;</a> _putn(<span class="keyword">const</span> _CharType *ptr, <span class="keywordtype">size_t</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#a6d2e4ca19b7eda6cd5348768d9c3f548">size</a>) { <span class="keywordflow">return</span> pplx::task_from_result((<span class="keywordtype">size_t</span>)m_buffer-&gt;sputn(ptr, size)); }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordtype">size_t</span> _sgetn(_Out_writes_ (size) _CharType *ptr, _In_ <span class="keywordtype">size_t</span> size)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_buffer-&gt;sgetn(ptr, size); }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> _scopy(_Out_writes_ (size) _CharType *, _In_ <span class="keywordtype">size_t</span> size) { (void)(size); <span class="keywordflow">return</span> (<span class="keywordtype">size_t</span>)-1; }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;size_t&gt;</a> _getn(_Out_writes_ (size) _CharType *ptr, _In_ <span class="keywordtype">size_t</span> size) { <span class="keywordflow">return</span> pplx::task_from_result((<span class="keywordtype">size_t</span>)m_buffer-&gt;sgetn(ptr, size)); }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keyword">virtual</span> int_type _sbumpc() { <span class="keywordflow">return</span> m_buffer-&gt;sbumpc(); }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keyword">virtual</span> int_type _sgetc() { <span class="keywordflow">return</span> m_buffer-&gt;sgetc(); }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;int_type&gt;</a> _bumpc() { <span class="keywordflow">return</span> pplx::task_from_result&lt;int_type&gt;(m_buffer-&gt;sbumpc()); }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;int_type&gt;</a> _getc() { <span class="keywordflow">return</span> pplx::task_from_result&lt;int_type&gt;(m_buffer-&gt;sgetc()); }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;int_type&gt;</a> _nextc() { <span class="keywordflow">return</span> pplx::task_from_result&lt;int_type&gt;(m_buffer-&gt;snextc()); }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;int_type&gt;</a> _ungetc() { <span class="keywordflow">return</span> pplx::task_from_result&lt;int_type&gt;(m_buffer-&gt;sungetc()); }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keyword">virtual</span> pos_type getpos(std::ios_base::openmode mode)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_buffer-&gt;pubseekoff(0, std::ios_base::cur, mode); }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keyword">virtual</span> pos_type seekpos(pos_type pos, std::ios_base::openmode mode) { <span class="keywordflow">return</span> m_buffer-&gt;pubseekpos(pos, mode); }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keyword">virtual</span> pos_type seekoff(off_type off, std::ios_base::seekdir dir, std::ios_base::openmode mode) { <span class="keywordflow">return</span> m_buffer-&gt;pubseekoff(off, dir, mode); }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keyword">virtual</span> _CharType* _alloc(<span class="keywordtype">size_t</span>) { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> _commit(<span class="keywordtype">size_t</span>) {}</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> acquire(_CharType*&amp;, <span class="keywordtype">size_t</span>&amp;) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> release(_CharType *, <span class="keywordtype">size_t</span>) { }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CharType&gt; <span class="keyword">friend</span> <span class="keyword">class </span>concurrency::streams::stdio_ostream;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CharType&gt; <span class="keyword">friend</span> <span class="keyword">class </span>concurrency::streams::stdio_istream;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        std::basic_streambuf&lt;_CharType&gt;* m_buffer;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    };</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    } <span class="comment">// namespace details</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CharType&gt;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keyword">class </span>stdio_ostream : <span class="keyword">public</span> basic_ostream&lt;CharType&gt;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> AlterCharType&gt;</div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1stdio__ostream.html#a5fb15ab9fb7b73a55bd5d27483b386dc">  148</a></span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1stdio__ostream.html#a5fb15ab9fb7b73a55bd5d27483b386dc">stdio_ostream</a>(std::basic_ostream&lt;AlterCharType&gt;&amp; stream)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            : <a class="code" href="class_concurrency_1_1streams_1_1basic__ostream.html">basic_ostream</a>&lt;CharType&gt;(streams::streambuf&lt;AlterCharType&gt;(std::shared_ptr&lt;details::basic_stdio_buffer&lt;AlterCharType&gt;&gt;(new details::basic_stdio_buffer&lt;AlterCharType&gt;(stream.rdbuf(), std::ios_base::out))))</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1stdio__ostream.html#a917a0172af0f88178d18847ec207791a">  157</a></span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1stdio__ostream.html#a917a0172af0f88178d18847ec207791a">stdio_ostream</a>(<span class="keyword">const</span> <a class="code" href="class_concurrency_1_1streams_1_1stdio__ostream.html">stdio_ostream</a> &amp;other) : <a class="code" href="class_concurrency_1_1streams_1_1basic__ostream.html">basic_ostream</a>&lt;CharType&gt;(other) { }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1stdio__ostream.html#ac497a39e96ab759996f5d2d7db927b37">  164</a></span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1stdio__ostream.html">stdio_ostream</a> &amp; <a class="code" href="class_concurrency_1_1streams_1_1stdio__ostream.html#ac497a39e96ab759996f5d2d7db927b37">operator =</a>(<span class="keyword">const</span> <a class="code" href="class_concurrency_1_1streams_1_1stdio__ostream.html">stdio_ostream</a> &amp;other) { <a class="code" href="class_concurrency_1_1streams_1_1basic__ostream.html#afb87b10c37cb1d3fa64a0d21ced1f2f9">basic_ostream&lt;CharType&gt;::operator=</a>(other); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    };</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CharType&gt;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keyword">class </span>stdio_istream : <span class="keyword">public</span> basic_istream&lt;CharType&gt;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> AlterCharType&gt;</div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1stdio__istream.html#ab1d738169b6c22fac943ef3207dd47a5">  192</a></span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1stdio__istream.html#ab1d738169b6c22fac943ef3207dd47a5">stdio_istream</a>(std::basic_istream&lt;AlterCharType&gt;&amp; stream)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            : <a class="code" href="class_concurrency_1_1streams_1_1basic__istream.html">basic_istream</a>&lt;CharType&gt;(streams::streambuf&lt;AlterCharType&gt;(std::shared_ptr&lt;details::basic_stdio_buffer&lt;AlterCharType&gt;&gt;(new details::basic_stdio_buffer&lt;AlterCharType&gt;(stream.rdbuf(), std::ios_base::in))))</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1stdio__istream.html#a60891414f2fcb91fc8ec0c9a6cf2eb4d">  201</a></span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1stdio__istream.html#a60891414f2fcb91fc8ec0c9a6cf2eb4d">stdio_istream</a>(<span class="keyword">const</span> <a class="code" href="class_concurrency_1_1streams_1_1stdio__istream.html">stdio_istream</a> &amp;other) : <a class="code" href="class_concurrency_1_1streams_1_1basic__istream.html">basic_istream</a>&lt;CharType&gt;(other) { }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1stdio__istream.html#a84f33ba28844e158111c7b29aec8b533">  208</a></span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1stdio__istream.html">stdio_istream</a> &amp; <a class="code" href="class_concurrency_1_1streams_1_1stdio__istream.html#a84f33ba28844e158111c7b29aec8b533">operator =</a>(<span class="keyword">const</span> <a class="code" href="class_concurrency_1_1streams_1_1stdio__istream.html">stdio_istream</a> &amp;other) { <a class="code" href="class_concurrency_1_1streams_1_1basic__istream.html#afbbf50b3ea6b18b4de5c1f9e6a11ec6b">basic_istream&lt;CharType&gt;::operator=</a>(other); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    };</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keyword">namespace </span>details {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CharType&gt;</div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html">  218</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html">basic_async_streambuf</a> : <span class="keyword">public</span> std::basic_streambuf&lt;CharType&gt;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keyword">typedef</span> concurrency::streams::char_traits&lt;CharType&gt; traits;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> traits::int_type int_type;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> traits::pos_type pos_type;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> traits::off_type off_type;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html">basic_async_streambuf</a>(<span class="keyword">const</span> <a class="code" href="class_concurrency_1_1streams_1_1streambuf.html">streams::streambuf&lt;CharType&gt;</a> &amp;async_buf) : m_buffer(async_buf)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="comment">// The following are the functions in std::basic_streambuf that we need to override.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#aaca5afa41cc0bb5150b44fed78ec84fd">  238</a></span>&#160;        int_type <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#aaca5afa41cc0bb5150b44fed78ec84fd">overflow</a>(int_type ch)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">return</span> m_buffer.putc(CharType(ch)).get();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordflow">catch</span>(...)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                <span class="keywordflow">return</span> traits::eof();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a3787b5599b0d3d95d48933cb00d81b28">  253</a></span>&#160;        int_type <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a3787b5599b0d3d95d48933cb00d81b28">underflow</a>()</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="keywordflow">return</span> m_buffer.getc().get();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordflow">catch</span>(...)</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="keywordflow">return</span> traits::eof();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a142611984f7455719930a040ae9511e9">  268</a></span>&#160;        int_type <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a142611984f7455719930a040ae9511e9">uflow</a>()</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">return</span> m_buffer.bumpc().get();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">catch</span>(...)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                <span class="keywordflow">return</span> traits::eof();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#ad71995f840886f83a8f60767783e13b7">  283</a></span>&#160;        std::streamsize <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#ad71995f840886f83a8f60767783e13b7">xsgetn</a>(_Out_writes_ (count) CharType* ptr, _In_ std::streamsize count)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordtype">size_t</span> cnt = size_t(count);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordtype">size_t</span> read_so_far = 0;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">while</span> (read_so_far &lt; cnt)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <span class="keywordtype">size_t</span> rd = m_buffer.getn(ptr+read_so_far, cnt-read_so_far).get();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                read_so_far += rd;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <span class="keywordflow">if</span> ( rd == 0 )</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">return</span> read_so_far;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="keywordflow">catch</span>(...)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a3016e435f49e71fdfb3356de658a4399">  308</a></span>&#160;        std::streamsize <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a3016e435f49e71fdfb3356de658a4399">xsputn</a>(<span class="keyword">const</span> CharType* ptr, std::streamsize count)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <span class="keywordflow">return</span> m_buffer.putn_nocopy(ptr, static_cast&lt;size_t&gt;(count)).get();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="keywordflow">catch</span>(...)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#ab4aed04239c9e341b20e5c4657100d11">  323</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#ab4aed04239c9e341b20e5c4657100d11">sync</a>() <span class="comment">// must be int as per std::basic_streambuf</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                m_buffer.sync().wait();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">catch</span>(...)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a2273b115c3ef6018dad4270155a20a80">  338</a></span>&#160;        pos_type <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a2273b115c3ef6018dad4270155a20a80">seekoff</a>(off_type offset,</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                         std::ios_base::seekdir dir,</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                         std::ios_base::openmode mode = std::ios_base::in | std::ios_base::out)</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="keywordflow">if</span> ( dir == std::ios_base::cur &amp;&amp; offset == 0) <span class="comment">// Special case for getting the current position.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <span class="keywordflow">return</span> m_buffer.getpos(mode);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <span class="keywordflow">return</span> m_buffer.seekoff(offset,dir,mode);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordflow">catch</span>(...)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">return</span> (pos_type(-1));</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a0109b5a882809289d01aa712eb762739">  357</a></span>&#160;        pos_type <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a0109b5a882809289d01aa712eb762739">seekpos</a>(pos_type pos,</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                         std::ios_base::openmode mode = std::ios_base::in | std::ios_base::out)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordflow">return</span> m_buffer.seekpos(pos, mode);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordflow">catch</span>(...)</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <span class="keywordflow">return</span> (pos_type(-1));</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        concurrency::streams::streambuf&lt;CharType&gt; m_buffer;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    };</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    } <span class="comment">// namespace details</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CharType&gt;</div>
<div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1async__ostream.html">  383</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_concurrency_1_1streams_1_1async__ostream.html">async_ostream</a> : <span class="keyword">public</span> std::basic_ostream&lt;CharType&gt;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> AlterCharType&gt;</div>
<div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1async__ostream.html#a359c44c82803016fce8b195586f9ed7c">  394</a></span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1async__ostream.html#a359c44c82803016fce8b195586f9ed7c">async_ostream</a>(<span class="keyword">const</span> <a class="code" href="class_concurrency_1_1streams_1_1basic__ostream.html">streams::basic_ostream&lt;AlterCharType&gt;</a> &amp;astream)</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            : std::<a class="code" href="class_concurrency_1_1streams_1_1basic__ostream.html">basic_ostream</a>&lt;CharType&gt;(&amp;m_strbuf),</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;              m_strbuf(astream.streambuf())</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> AlterCharType&gt;</div>
<div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1async__ostream.html#a2dda828d9748ca6924970728fc88b7eb">  408</a></span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1async__ostream.html#a2dda828d9748ca6924970728fc88b7eb">async_ostream</a>(<span class="keyword">const</span> <a class="code" href="class_concurrency_1_1streams_1_1streambuf.html">streams::streambuf&lt;AlterCharType&gt;</a> &amp;strbuf)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            : std::<a class="code" href="class_concurrency_1_1streams_1_1basic__ostream.html">basic_ostream</a>&lt;CharType&gt;(&amp;m_strbuf),</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;              m_strbuf(strbuf)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html">details::basic_async_streambuf&lt;CharType&gt;</a> m_strbuf;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    };</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CharType&gt;</div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1async__istream.html">  425</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_concurrency_1_1streams_1_1async__istream.html">async_istream</a> : <span class="keyword">public</span> std::basic_istream&lt;CharType&gt;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> AlterCharType&gt;</div>
<div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1async__istream.html#ac99c290b1fdf77db61302ef0777f24ef">  436</a></span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1async__istream.html#ac99c290b1fdf77db61302ef0777f24ef">async_istream</a>(<span class="keyword">const</span> <a class="code" href="class_concurrency_1_1streams_1_1basic__istream.html">streams::basic_istream&lt;AlterCharType&gt;</a> &amp;astream)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            : std::<a class="code" href="class_concurrency_1_1streams_1_1basic__istream.html">basic_istream</a>&lt;CharType&gt;(&amp;m_strbuf),</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;              m_strbuf(astream.streambuf())</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> AlterCharType&gt;</div>
<div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1async__istream.html#a0aff90998b3b1edae10619e1629caaf7">  450</a></span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1async__istream.html#a0aff90998b3b1edae10619e1629caaf7">async_istream</a>(<span class="keyword">const</span> <a class="code" href="class_concurrency_1_1streams_1_1streambuf.html">streams::streambuf&lt;AlterCharType&gt;</a> &amp;strbuf)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            : std::<a class="code" href="class_concurrency_1_1streams_1_1basic__istream.html">basic_istream</a>&lt;CharType&gt;(&amp;m_strbuf),</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;              m_strbuf(strbuf)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html">details::basic_async_streambuf&lt;CharType&gt;</a> m_strbuf;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    };</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CharType&gt;</div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1async__iostream.html">  467</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_concurrency_1_1streams_1_1async__iostream.html">async_iostream</a> : <span class="keyword">public</span> std::basic_iostream&lt;CharType&gt;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="class_concurrency_1_1streams_1_1async__iostream.html#a2f88f17b3230453d03ce9fb6ca4d3ae1">  474</a></span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1async__iostream.html#a2f88f17b3230453d03ce9fb6ca4d3ae1">async_iostream</a>(<span class="keyword">const</span> <a class="code" href="class_concurrency_1_1streams_1_1streambuf.html">streams::streambuf&lt;CharType&gt;</a> &amp;strbuf)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            : std::basic_iostream&lt;CharType&gt;(&amp;m_strbuf),</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;              m_strbuf(strbuf)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <a class="code" href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html">details::basic_async_streambuf&lt;CharType&gt;</a> m_strbuf;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    };</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="preprocessor">#if defined(__cplusplus_winrt)</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keyword">class </span>winrt_stream</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        _ASYNCRTIMP <span class="keyword">static</span> Windows::Storage::Streams::IInputStream^ __cdecl create_input_stream(<span class="keyword">const</span> concurrency::streams::streambuf&lt;uint8_t&gt; &amp;buffer);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        _ASYNCRTIMP <span class="keyword">static</span> Windows::Storage::Streams::IOutputStream^ __cdecl create_output_stream(<span class="keyword">const</span> concurrency::streams::streambuf&lt;uint8_t&gt; &amp;buffer);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        _ASYNCRTIMP <span class="keyword">static</span> Windows::Storage::Streams::IRandomAccessStream^ __cdecl create_random_access_stream(<span class="keyword">const</span> concurrency::streams::streambuf&lt;uint8_t&gt; &amp;buffer);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    };</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}} <span class="comment">// namespaces</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="preprocessor">#if defined(_WIN32)</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="preprocessor">#pragma warning(pop)</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1stdio__ostream_html_a917a0172af0f88178d18847ec207791a"><div class="ttname"><a href="class_concurrency_1_1streams_1_1stdio__ostream.html#a917a0172af0f88178d18847ec207791a">Concurrency::streams::stdio_ostream::stdio_ostream</a></div><div class="ttdeci">stdio_ostream(const stdio_ostream &amp;other)</div><div class="ttdoc">Copy constructor </div><div class="ttdef"><b>Definition:</b> interopstream.h:157</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf_html_aaca5afa41cc0bb5150b44fed78ec84fd"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#aaca5afa41cc0bb5150b44fed78ec84fd">Concurrency::streams::details::basic_async_streambuf::overflow</a></div><div class="ttdeci">int_type overflow(int_type ch)</div><div class="ttdoc">Writes one byte to the stream buffer. </div><div class="ttdef"><b>Definition:</b> interopstream.h:238</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf_html_a3787b5599b0d3d95d48933cb00d81b28"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a3787b5599b0d3d95d48933cb00d81b28">Concurrency::streams::details::basic_async_streambuf::underflow</a></div><div class="ttdeci">int_type underflow()</div><div class="ttdoc">Gets one byte from the stream buffer without moving the read position. </div><div class="ttdef"><b>Definition:</b> interopstream.h:253</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf_html_a142611984f7455719930a040ae9511e9"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a142611984f7455719930a040ae9511e9">Concurrency::streams::details::basic_async_streambuf::uflow</a></div><div class="ttdeci">int_type uflow()</div><div class="ttdoc">Gets one byte from the stream buffer and move the read position one character. </div><div class="ttdef"><b>Definition:</b> interopstream.h:268</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf_html_ab4aed04239c9e341b20e5c4657100d11"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#ab4aed04239c9e341b20e5c4657100d11">Concurrency::streams::details::basic_async_streambuf::sync</a></div><div class="ttdeci">int sync()</div><div class="ttdoc">Synchronizes with the underlying medium. </div><div class="ttdef"><b>Definition:</b> interopstream.h:323</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf_html_ad71995f840886f83a8f60767783e13b7"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#ad71995f840886f83a8f60767783e13b7">Concurrency::streams::details::basic_async_streambuf::xsgetn</a></div><div class="ttdeci">std::streamsize xsgetn(_Out_writes_(count) CharType *ptr, _In_ std::streamsize count)</div><div class="ttdoc">Gets a number of characters from the buffer and place it into the provided memory block...</div><div class="ttdef"><b>Definition:</b> interopstream.h:283</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager_html_ae803b65c032ea6e9dcd54b92e0c9d512"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#ae803b65c032ea6e9dcd54b92e0c9d512">Concurrency::streams::details::streambuf_state_manager::is_open</a></div><div class="ttdeci">virtual bool is_open() const </div><div class="ttdoc">Checks if the stream buffer is open. </div><div class="ttdef"><b>Definition:</b> astreambuf.h:390</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1basic__ostream_html_afb87b10c37cb1d3fa64a0d21ced1f2f9"><div class="ttname"><a href="class_concurrency_1_1streams_1_1basic__ostream.html#afb87b10c37cb1d3fa64a0d21ced1f2f9">Concurrency::streams::basic_ostream::operator=</a></div><div class="ttdeci">basic_ostream &amp; operator=(const basic_ostream &amp;other)</div><div class="ttdoc">Assignment operator </div><div class="ttdef"><b>Definition:</b> streams.h:132</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1streambuf_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1streambuf.html">Concurrency::streams::streambuf</a></div><div class="ttdoc">Reference-counted stream buffer. </div><div class="ttdef"><b>Definition:</b> astreambuf.h:804</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1async__ostream_html_a2dda828d9748ca6924970728fc88b7eb"><div class="ttname"><a href="class_concurrency_1_1streams_1_1async__ostream.html#a2dda828d9748ca6924970728fc88b7eb">Concurrency::streams::async_ostream::async_ostream</a></div><div class="ttdeci">async_ostream(const streams::streambuf&lt; AlterCharType &gt; &amp;strbuf)</div><div class="ttdoc">Constructor </div><div class="ttdef"><b>Definition:</b> interopstream.h:408</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1stdio__istream_html_a84f33ba28844e158111c7b29aec8b533"><div class="ttname"><a href="class_concurrency_1_1streams_1_1stdio__istream.html#a84f33ba28844e158111c7b29aec8b533">Concurrency::streams::stdio_istream::operator=</a></div><div class="ttdeci">stdio_istream &amp; operator=(const stdio_istream &amp;other)</div><div class="ttdoc">Assignment operator </div><div class="ttdef"><b>Definition:</b> interopstream.h:208</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf_html_a2273b115c3ef6018dad4270155a20a80"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a2273b115c3ef6018dad4270155a20a80">Concurrency::streams::details::basic_async_streambuf::seekoff</a></div><div class="ttdeci">pos_type seekoff(off_type offset, std::ios_base::seekdir dir, std::ios_base::openmode mode=std::ios_base::in|std::ios_base::out)</div><div class="ttdoc">Seeks to the given offset relative to the beginning, end, or current position. </div><div class="ttdef"><b>Definition:</b> interopstream.h:338</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1basic__ostream_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1basic__ostream.html">Concurrency::streams::basic_ostream</a></div><div class="ttdoc">Base interface for all asynchronous output streams. </div><div class="ttdef"><b>Definition:</b> astreambuf.h:792</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1async__istream_html_ac99c290b1fdf77db61302ef0777f24ef"><div class="ttname"><a href="class_concurrency_1_1streams_1_1async__istream.html#ac99c290b1fdf77db61302ef0777f24ef">Concurrency::streams::async_istream::async_istream</a></div><div class="ttdeci">async_istream(const streams::basic_istream&lt; AlterCharType &gt; &amp;astream)</div><div class="ttdoc">Constructor </div><div class="ttdef"><b>Definition:</b> interopstream.h:436</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1stdio__istream_html_ab1d738169b6c22fac943ef3207dd47a5"><div class="ttname"><a href="class_concurrency_1_1streams_1_1stdio__istream.html#ab1d738169b6c22fac943ef3207dd47a5">Concurrency::streams::stdio_istream::stdio_istream</a></div><div class="ttdeci">stdio_istream(std::basic_istream&lt; AlterCharType &gt; &amp;stream)</div><div class="ttdoc">Constructor </div><div class="ttdef"><b>Definition:</b> interopstream.h:192</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf_html_a0109b5a882809289d01aa712eb762739"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a0109b5a882809289d01aa712eb762739">Concurrency::streams::details::basic_async_streambuf::seekpos</a></div><div class="ttdeci">pos_type seekpos(pos_type pos, std::ios_base::openmode mode=std::ios_base::in|std::ios_base::out)</div><div class="ttdoc">Seeks to the given offset relative to the beginning of the stream. </div><div class="ttdef"><b>Definition:</b> interopstream.h:357</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1async__istream_html_a0aff90998b3b1edae10619e1629caaf7"><div class="ttname"><a href="class_concurrency_1_1streams_1_1async__istream.html#a0aff90998b3b1edae10619e1629caaf7">Concurrency::streams::async_istream::async_istream</a></div><div class="ttdeci">async_istream(const streams::streambuf&lt; AlterCharType &gt; &amp;strbuf)</div><div class="ttdoc">Constructor </div><div class="ttdef"><b>Definition:</b> interopstream.h:450</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1async__ostream_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1async__ostream.html">Concurrency::streams::async_ostream</a></div><div class="ttdoc">A concrete STL ostream which relies on an asynchronous stream for its I/O. </div><div class="ttdef"><b>Definition:</b> interopstream.h:383</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager_html_a6d2e4ca19b7eda6cd5348768d9c3f548"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#a6d2e4ca19b7eda6cd5348768d9c3f548">Concurrency::streams::details::streambuf_state_manager::size</a></div><div class="ttdeci">virtual utility::size64_t size() const </div><div class="ttdoc">Gets the size of the stream, if known. Calls to has_size will determine whether the result of size ca...</div><div class="ttdef"><b>Definition:</b> astreambuf.h:676</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1async__ostream_html_a359c44c82803016fce8b195586f9ed7c"><div class="ttname"><a href="class_concurrency_1_1streams_1_1async__ostream.html#a359c44c82803016fce8b195586f9ed7c">Concurrency::streams::async_ostream::async_ostream</a></div><div class="ttdeci">async_ostream(const streams::basic_ostream&lt; AlterCharType &gt; &amp;astream)</div><div class="ttdoc">Constructor </div><div class="ttdef"><b>Definition:</b> interopstream.h:394</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1async__iostream_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1async__iostream.html">Concurrency::streams::async_iostream</a></div><div class="ttdoc">A concrete STL istream which relies on an asynchronous stream buffer for its I/O. ...</div><div class="ttdef"><b>Definition:</b> interopstream.h:467</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1stdio__ostream_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1stdio__ostream.html">Concurrency::streams::stdio_ostream</a></div><div class="ttdoc">stdio_ostream represents an async ostream derived from a standard synchronous stream, as defined by the "std" namespace. It is constructed from a reference to a standard stream, which must be valid for the lifetime of the asynchronous stream. </div><div class="ttdef"><b>Definition:</b> interopstream.h:38</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager_html_aa006a004495768b97e9718ef89a675f1"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#aa006a004495768b97e9718ef89a675f1">Concurrency::streams::details::streambuf_state_manager::_close_read</a></div><div class="ttdeci">virtual pplx::task&lt; void &gt; _close_read()</div><div class="ttdoc">The real read head close operation, implementation should override it if there is any resource to be ...</div><div class="ttdef"><b>Definition:</b> astreambuf.h:711</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1basic__istream_html_afbbf50b3ea6b18b4de5c1f9e6a11ec6b"><div class="ttname"><a href="class_concurrency_1_1streams_1_1basic__istream.html#afbbf50b3ea6b18b4de5c1f9e6a11ec6b">Concurrency::streams::basic_istream::operator=</a></div><div class="ttdeci">basic_istream &amp; operator=(const basic_istream &amp;other)</div><div class="ttdoc">Assignment operator </div><div class="ttdef"><b>Definition:</b> streams.h:606</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager_html_ad9bd370ba0b9a6e75e29a0d80903db34"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html#ad9bd370ba0b9a6e75e29a0d80903db34">Concurrency::streams::details::streambuf_state_manager::_close_write</a></div><div class="ttdeci">virtual pplx::task&lt; void &gt; _close_write()</div><div class="ttdoc">The real write head close operation, implementation should override it if there is any resource to be...</div><div class="ttdef"><b>Definition:</b> astreambuf.h:720</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1streambuf__state__manager.html">Concurrency::streams::details::streambuf_state_manager</a></div><div class="ttdef"><b>Definition:</b> astreambuf.h:362</div></div>
<div class="ttc" id="classpplx_1_1task_html"><div class="ttname"><a href="classpplx_1_1task.html">pplx::task</a></div><div class="ttdoc">The Parallel Patterns Library (PPL) task class. A task object represents work that can be executed as...</div><div class="ttdef"><b>Definition:</b> pplxtasks.h:176</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1async__istream_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1async__istream.html">Concurrency::streams::async_istream</a></div><div class="ttdoc">A concrete STL istream which relies on an asynchronous stream for its I/O. </div><div class="ttdef"><b>Definition:</b> interopstream.h:425</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1async__iostream_html_a2f88f17b3230453d03ce9fb6ca4d3ae1"><div class="ttname"><a href="class_concurrency_1_1streams_1_1async__iostream.html#a2f88f17b3230453d03ce9fb6ca4d3ae1">Concurrency::streams::async_iostream::async_iostream</a></div><div class="ttdeci">async_iostream(const streams::streambuf&lt; CharType &gt; &amp;strbuf)</div><div class="ttdoc">Constructor </div><div class="ttdef"><b>Definition:</b> interopstream.h:474</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html">Concurrency::streams::details::basic_async_streambuf</a></div><div class="ttdoc">IO streams stream buffer implementation used to interface with an async streambuffer underneath...</div><div class="ttdef"><b>Definition:</b> interopstream.h:218</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1stdio__istream_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1stdio__istream.html">Concurrency::streams::stdio_istream</a></div><div class="ttdoc">stdio_istream represents an async istream derived from a standard synchronous stream, as defined by the "std" namespace. It is constructed from a reference to a standard stream, which must be valid for the lifetime of the asynchronous stream. </div><div class="ttdef"><b>Definition:</b> interopstream.h:39</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1basic__istream_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1basic__istream.html">Concurrency::streams::basic_istream</a></div><div class="ttdoc">Base interface for all asynchronous input streams. </div><div class="ttdef"><b>Definition:</b> astreambuf.h:791</div></div>
<div class="ttc" id="namespace_concurrency_html"><div class="ttname"><a href="namespace_concurrency.html">Concurrency</a></div><div class="ttdef"><b>Definition:</b> astreambuf.h:37</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__stdio__buffer_html_ad52eca58ab0b9f491d529396a1f4cf85"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__stdio__buffer.html#ad52eca58ab0b9f491d529396a1f4cf85">Concurrency::streams::details::basic_stdio_buffer::~basic_stdio_buffer</a></div><div class="ttdeci">virtual ~basic_stdio_buffer()</div><div class="ttdoc">Destructor </div><div class="ttdef"><b>Definition:</b> interopstream.h:68</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__stdio__buffer_html"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__stdio__buffer.html">Concurrency::streams::details::basic_stdio_buffer</a></div><div class="ttdoc">The basic_stdio_buffer class serves to support interoperability with STL stream buffers. Sitting atop a std::streambuf, which does all the I/O, instances of this class may read and write data to standard iostreams. The class itself should not be used in application code, it is used by the stream definitions farther down in the header file. </div><div class="ttdef"><b>Definition:</b> interopstream.h:50</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1stdio__ostream_html_a5fb15ab9fb7b73a55bd5d27483b386dc"><div class="ttname"><a href="class_concurrency_1_1streams_1_1stdio__ostream.html#a5fb15ab9fb7b73a55bd5d27483b386dc">Concurrency::streams::stdio_ostream::stdio_ostream</a></div><div class="ttdeci">stdio_ostream(std::basic_ostream&lt; AlterCharType &gt; &amp;stream)</div><div class="ttdoc">Constructor </div><div class="ttdef"><b>Definition:</b> interopstream.h:148</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf_html_a3016e435f49e71fdfb3356de658a4399"><div class="ttname"><a href="class_concurrency_1_1streams_1_1details_1_1basic__async__streambuf.html#a3016e435f49e71fdfb3356de658a4399">Concurrency::streams::details::basic_async_streambuf::xsputn</a></div><div class="ttdeci">std::streamsize xsputn(const CharType *ptr, std::streamsize count)</div><div class="ttdoc">Writes a given number of characters from the provided block into the stream buffer. </div><div class="ttdef"><b>Definition:</b> interopstream.h:308</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1stdio__ostream_html_ac497a39e96ab759996f5d2d7db927b37"><div class="ttname"><a href="class_concurrency_1_1streams_1_1stdio__ostream.html#ac497a39e96ab759996f5d2d7db927b37">Concurrency::streams::stdio_ostream::operator=</a></div><div class="ttdeci">stdio_ostream &amp; operator=(const stdio_ostream &amp;other)</div><div class="ttdoc">Assignment operator </div><div class="ttdef"><b>Definition:</b> interopstream.h:164</div></div>
<div class="ttc" id="class_concurrency_1_1streams_1_1stdio__istream_html_a60891414f2fcb91fc8ec0c9a6cf2eb4d"><div class="ttname"><a href="class_concurrency_1_1streams_1_1stdio__istream.html#a60891414f2fcb91fc8ec0c9a6cf2eb4d">Concurrency::streams::stdio_istream::stdio_istream</a></div><div class="ttdeci">stdio_istream(const stdio_istream &amp;other)</div><div class="ttdoc">Copy constructor </div><div class="ttdef"><b>Definition:</b> interopstream.h:201</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
