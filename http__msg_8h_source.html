<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>C++ Rest SDK: include/cpprest/http_msg.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cloud.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C++ Rest SDK
   </div>
   <div id="projectbrief">The C++ REST SDK is a Microsoft project for cloud-based client-server communication in native code using a modern asynchronous C++ API design. This project aims to help C++ developers connect to and interact with services.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_88f64f1a6399c0540b2e612ed2d4d006.html">cpprest</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">http_msg.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">* ==++==</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">* Copyright (c) Microsoft Corporation. All rights reserved.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">* Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">* you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">* You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">* http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">* Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">* distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">* See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">* limitations under the License.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">* ==--==</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">* =+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">* HTTP Library: Request and reply message definitions.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">* For the latest on this and related APIs, please see http://casablanca.codeplex.com.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">* =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">****/</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;system_error&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;pplx/pplxtasks.h&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;cpprest/json.h&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;cpprest/uri.h&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;cpprest/http_headers.h&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;cpprest/details/cpprest_compat.h&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;cpprest/asyncrt_utils.h&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;cpprest/streams.h&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;cpprest/containerstream.h&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceweb.html">web</a></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">namespace </span>http</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// URI class has been moved from web::http namespace to web namespace.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// The below using declarations ensure we don&#39;t break existing code.</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// Please use the web::uri class going forward.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">using</span> <a class="code" href="classweb_1_1uri.html">web::uri</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">using</span> <a class="code" href="classweb_1_1uri__builder.html">web::uri_builder</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">namespace </span>client</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keyword">class </span>http_client;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="namespaceweb_1_1http.html#a10753d257365e0864768e18dd985e82a">   62</a></span>&#160;<span class="keyword">typedef</span> utility::string_t <a class="code" href="namespaceweb_1_1http.html#a10753d257365e0864768e18dd985e82a">method</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1methods.html">   67</a></span>&#160;<span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1methods.html">methods</a></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;{</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#define _METHODS</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#define DAT(a,b) _ASYNCRTIMP const static method a;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;cpprest/details/http_constants.dat&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#undef _METHODS</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#undef DAT</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;};</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> status_code;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1status__codes.html">   82</a></span>&#160;<span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1status__codes.html">status_codes</a></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#define _PHRASES</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#define DAT(a,b,c) const static status_code a=b;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#include &quot;cpprest/details/http_constants.dat&quot;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#undef _PHRASES</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#undef DAT</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;};</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="namespaceweb_1_1http_1_1message__direction.html">   93</a></span>&#160;<span class="keyword">namespace </span>message_direction</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="namespaceweb_1_1http_1_1message__direction.html#a447bc1591a2929db97f0f9513a2ad175">   99</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="namespaceweb_1_1http_1_1message__direction.html#a447bc1591a2929db97f0f9513a2ad175">direction</a> {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        upload,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        download</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    };</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">typedef</span> utility::string_t reason_phrase;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">typedef</span> std::function&lt;void(message_direction::direction, utility::size64_t)&gt; progress_handler;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structweb_1_1http_1_1http__status__to__phrase.html">  108</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structweb_1_1http_1_1http__status__to__phrase.html">http_status_to_phrase</a></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> id;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    reason_phrase phrase;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;};</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1header__names.html">  117</a></span>&#160;<span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1header__names.html">header_names</a></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#define _HEADER_NAMES</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#define DAT(a,b) _ASYNCRTIMP const static utility::string_t a;</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#include &quot;cpprest/details/http_constants.dat&quot;</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#undef _HEADER_NAMES</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#undef DAT</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;};</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__exception.html">  130</a></span>&#160;<span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1http__exception.html">http_exception</a> : <span class="keyword">public</span> std::exception</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__exception.html#a657d601863bac9f483244d31bdbd46b8">  138</a></span>&#160;    <a class="code" href="classweb_1_1http_1_1http__exception.html#a657d601863bac9f483244d31bdbd46b8">http_exception</a>(<span class="keyword">const</span> utility::string_t &amp;whatArg)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        : m_msg(<a class="code" href="namespaceutility.html">utility</a>::conversions::to_utf8string(whatArg)) {}</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="classweb_1_1http_1_1http__exception.html#a657d601863bac9f483244d31bdbd46b8">http_exception</a>(std::string whatArg) : m_msg(std::move(whatArg)) {}</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__exception.html#a54528c24410f991dcb38f535dae17a64">  154</a></span>&#160;    <a class="code" href="classweb_1_1http_1_1http__exception.html#a54528c24410f991dcb38f535dae17a64">http_exception</a>(<span class="keywordtype">int</span> errorCode)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        : m_errorCode(<a class="code" href="namespaceutility.html">utility</a>::details::create_error_code(errorCode))</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        m_msg = m_errorCode.message();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__exception.html#ad6dd84974c854731f1028b77221c98b0">  165</a></span>&#160;    <a class="code" href="classweb_1_1http_1_1http__exception.html#ad6dd84974c854731f1028b77221c98b0">http_exception</a>(<span class="keywordtype">int</span> errorCode, <span class="keyword">const</span> utility::string_t &amp;whatArg)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        : m_errorCode(<a class="code" href="namespaceutility.html">utility</a>::details::create_error_code(errorCode)),</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;          m_msg(<a class="code" href="namespaceutility.html">utility</a>::conversions::to_utf8string(whatArg))</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    {}</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="classweb_1_1http_1_1http__exception.html#a657d601863bac9f483244d31bdbd46b8">http_exception</a>(<span class="keywordtype">int</span> errorCode, std::string whatArg) :</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        m_errorCode(<a class="code" href="namespaceutility.html">utility</a>::details::create_error_code(errorCode)),</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        m_msg(std::move(whatArg))</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    {}</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__exception.html#afdafc90732ab3f3e1b282a80bb025748">  188</a></span>&#160;    <a class="code" href="classweb_1_1http_1_1http__exception.html#afdafc90732ab3f3e1b282a80bb025748">http_exception</a>(<span class="keywordtype">int</span> errorCode, <span class="keyword">const</span> std::error_category &amp;cat) : m_errorCode(std::<a class="code" href="classweb_1_1http_1_1http__exception.html#a9af95f0ace0185a20c606846c6069fe1">error_code</a>(errorCode, cat))</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        m_msg = m_errorCode.message();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__exception.html#a6c1c5eca862d09511eb7ea6aff4d39ec">  197</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classweb_1_1http_1_1http__exception.html#a6c1c5eca862d09511eb7ea6aff4d39ec">what</a>() const CPPREST_NOEXCEPT</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">return</span> m_msg.c_str();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__exception.html#a9af95f0ace0185a20c606846c6069fe1">  206</a></span>&#160;    <span class="keyword">const</span> std::error_code &amp; <a class="code" href="classweb_1_1http_1_1http__exception.html#a9af95f0ace0185a20c606846c6069fe1">error_code</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">return</span> m_errorCode;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    std::error_code m_errorCode;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    std::string m_msg;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;};</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="keyword">namespace </span>details</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1details_1_1http__msg__base.html">  224</a></span>&#160;<span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html">http_msg_base</a></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1client_1_1http__client.html">http::client::http_client</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    _ASYNCRTIMP <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html">http_msg_base</a>();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keyword">virtual</span> ~http_msg_base() {}</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="classweb_1_1http_1_1http__headers.html">http_headers</a> &amp;headers() { <span class="keywordflow">return</span> m_headers; }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    _ASYNCRTIMP <span class="keywordtype">void</span> set_body(<span class="keyword">const</span> concurrency::streams::istream &amp;<a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#acca11fe632e7990b4d2a65519f1ca2f0">instream</a>, <span class="keyword">const</span> utf8string &amp;contentType);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    _ASYNCRTIMP <span class="keywordtype">void</span> set_body(<span class="keyword">const</span> concurrency::streams::istream &amp;instream, <span class="keyword">const</span> utf16string &amp;contentType);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    _ASYNCRTIMP <span class="keywordtype">void</span> set_body(<span class="keyword">const</span> concurrency::streams::istream &amp;instream, utility::size64_t contentLength, <span class="keyword">const</span> utf8string &amp;contentType);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    _ASYNCRTIMP <span class="keywordtype">void</span> set_body(<span class="keyword">const</span> concurrency::streams::istream &amp;instream, utility::size64_t contentLength, <span class="keyword">const</span> utf16string &amp;contentType);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    utility::string_t <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a0cf7d9a6e2130bb43ecbb50e0d3b394c">parse_and_check_content_type</a>(<span class="keywordtype">bool</span> ignore_content_type, <span class="keyword">const</span> std::function&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> utility::string_t&amp;)&gt; &amp;check_content_type);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    _ASYNCRTIMP utf8string extract_utf8string(<span class="keywordtype">bool</span> ignore_content_type = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    _ASYNCRTIMP utf16string extract_utf16string(<span class="keywordtype">bool</span> ignore_content_type = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    _ASYNCRTIMP utility::string_t extract_string(<span class="keywordtype">bool</span> ignore_content_type = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    _ASYNCRTIMP <a class="code" href="classweb_1_1json_1_1value.html">json::value</a> _extract_json(<span class="keywordtype">bool</span> ignore_content_type = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    _ASYNCRTIMP std::vector&lt;unsigned char&gt; _extract_vector();</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keyword">virtual</span> _ASYNCRTIMP utility::string_t to_string() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keyword">virtual</span> _ASYNCRTIMP <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a4cd70e200d8d6001c2ccc424ab139d83">_complete</a>(utility::size64_t bodySize, <span class="keyword">const</span> std::exception_ptr &amp;exceptionPtr = std::exception_ptr());</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1details_1_1http__msg__base.html#ad758b458da3051b05c8c2c22453754d3">  267</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#ad758b458da3051b05c8c2c22453754d3">set_instream</a>(<span class="keyword">const</span> concurrency::streams::istream &amp;instream)  { <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a87b9b185ec247b383d7663c0143368ed">m_inStream</a> = <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#acca11fe632e7990b4d2a65519f1ca2f0">instream</a>; }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1details_1_1http__msg__base.html#acca11fe632e7990b4d2a65519f1ca2f0">  272</a></span>&#160;    <span class="keyword">const</span> concurrency::streams::istream &amp; <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#acca11fe632e7990b4d2a65519f1ca2f0">instream</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a87b9b185ec247b383d7663c0143368ed">m_inStream</a>; }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a89ebf9e29561e7fbb0dd649f246a7933">  277</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a89ebf9e29561e7fbb0dd649f246a7933">set_outstream</a>(<span class="keyword">const</span> concurrency::streams::ostream &amp;<a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a72f095e8243a5ee7c8c35965e710bfdb">outstream</a>, <span class="keywordtype">bool</span> is_default)  { <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a05edb98c26a2d801f06ef43ca5352bac">m_outStream</a> = <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a72f095e8243a5ee7c8c35965e710bfdb">outstream</a>; m_default_outstream = is_default; }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a72f095e8243a5ee7c8c35965e710bfdb">  282</a></span>&#160;    <span class="keyword">const</span> concurrency::streams::ostream &amp; <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a72f095e8243a5ee7c8c35965e710bfdb">outstream</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a05edb98c26a2d801f06ef43ca5352bac">m_outStream</a>; }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keyword">const</span> <a class="code" href="classpplx_1_1task__completion__event.html">pplx::task_completion_event&lt;utility::size64_t&gt;</a> &amp; _get_data_available()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a68799f4f4d3bddfff8d8a3b1ee150396">m_data_available</a>; }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    _ASYNCRTIMP <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a2258c432d92e6532fe3d3e522bde6b96">_prepare_to_receive_data</a>();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    _ASYNCRTIMP <span class="keywordtype">size_t</span> <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a769de42ace5dc07b1bb2c37bca257d46">_get_content_length</a>();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a87b9b185ec247b383d7663c0143368ed">  317</a></span>&#160;    concurrency::streams::istream <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a87b9b185ec247b383d7663c0143368ed">m_inStream</a>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a05edb98c26a2d801f06ef43ca5352bac">  325</a></span>&#160;    concurrency::streams::ostream <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a05edb98c26a2d801f06ef43ca5352bac">m_outStream</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="classweb_1_1http_1_1http__headers.html">http_headers</a> m_headers;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordtype">bool</span> m_default_outstream;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a68799f4f4d3bddfff8d8a3b1ee150396">  331</a></span>&#160;    <a class="code" href="classpplx_1_1task__completion__event.html">pplx::task_completion_event&lt;utility::size64_t&gt;</a> <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html#a68799f4f4d3bddfff8d8a3b1ee150396">m_data_available</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;};</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1details_1_1__http__server__context.html">  338</a></span>&#160;<span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1details_1_1__http__server__context.html">_http_server_context</a></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="classweb_1_1http_1_1details_1_1__http__server__context.html">_http_server_context</a>() {}</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keyword">virtual</span> ~<a class="code" href="classweb_1_1http_1_1details_1_1__http__server__context.html">_http_server_context</a>() {}</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;};</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1details_1_1__http__response.html">  349</a></span>&#160;<span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1details_1_1__http__response.html">_http_response</a> : <span class="keyword">public</span> <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html">http::details::http_msg_base</a></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;{</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="classweb_1_1http_1_1details_1_1__http__response.html">_http_response</a>() : m_status_code((std::numeric_limits&lt;uint16_t&gt;::max)()) { }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="classweb_1_1http_1_1details_1_1__http__response.html">_http_response</a>(http::status_code code) : m_status_code(code) {}</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    http::status_code status_code()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_status_code; }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordtype">void</span> set_status_code(http::status_code code) { m_status_code = code; }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keyword">const</span> http::reason_phrase &amp; reason_phrase()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_reason_phrase; }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordtype">void</span> set_reason_phrase(<span class="keyword">const</span> http::reason_phrase &amp;reason) { m_reason_phrase = reason; }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    _ASYNCRTIMP utility::string_t to_string() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="classweb_1_1http_1_1details_1_1__http__server__context.html">_http_server_context</a> * _get_server_context()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_server_context.get(); }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordtype">void</span> _set_server_context(std::unique_ptr&lt;details::_http_server_context&gt; server_context) { m_server_context = std::move(server_context); }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    std::unique_ptr&lt;_http_server_context&gt; m_server_context;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    http::status_code m_status_code;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    http::reason_phrase m_reason_phrase;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;};</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;} <span class="comment">// namespace details</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html">  383</a></span>&#160;<span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1http__response.html">http_response</a></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;{</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#ae2ee403657d29cc52abb94a7a9b0571c">  391</a></span>&#160;    <a class="code" href="classweb_1_1http_1_1http__response.html#ae2ee403657d29cc52abb94a7a9b0571c">http_response</a>() : _m_impl(std::make_shared&lt;details::_http_response&gt;()) { }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a91d11a840d30737505c614c82a716c06">  398</a></span>&#160;    <a class="code" href="classweb_1_1http_1_1http__response.html#a91d11a840d30737505c614c82a716c06">http_response</a>(http::status_code code)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        : _m_impl(std::make_shared&lt;details::_http_response&gt;(code)) { }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a0ca073a1623724b450f56c5c3f9eb043">  405</a></span>&#160;    http::status_code <a class="code" href="classweb_1_1http_1_1http__response.html#a0ca073a1623724b450f56c5c3f9eb043">status_code</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl-&gt;status_code(); }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a17ecc55265b87f0749ba5ba7e3902233">  414</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__response.html#a17ecc55265b87f0749ba5ba7e3902233">set_status_code</a>(http::status_code code)<span class="keyword"> const </span>{ _m_impl-&gt;set_status_code(code); }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a926da1cf11129fd92c2c7919597fdead">  421</a></span>&#160;    <span class="keyword">const</span> http::reason_phrase &amp; <a class="code" href="classweb_1_1http_1_1http__response.html#a926da1cf11129fd92c2c7919597fdead">reason_phrase</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl-&gt;reason_phrase(); }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#ab0bd6a4c59a88eabbc4318ad2483acb2">  428</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__response.html#ab0bd6a4c59a88eabbc4318ad2483acb2">set_reason_phrase</a>(<span class="keyword">const</span> http::reason_phrase &amp;reason)<span class="keyword"> const </span>{ _m_impl-&gt;set_reason_phrase(reason); }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a88105e4a2ae4b71824346816ce8757af">  437</a></span>&#160;    <a class="code" href="classweb_1_1http_1_1http__headers.html">http_headers</a> &amp;<a class="code" href="classweb_1_1http_1_1http__response.html#a88105e4a2ae4b71824346816ce8757af">headers</a>() { <span class="keywordflow">return</span> _m_impl-&gt;headers(); }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#ae9b24391efb8111ceb4f1f9396911a49">  443</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classweb_1_1http_1_1http__headers.html">http_headers</a> &amp;<a class="code" href="classweb_1_1http_1_1http__response.html#ae9b24391efb8111ceb4f1f9396911a49">headers</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl-&gt;headers(); }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#afe2e87b8b4aacdec1aad9a8f7c0baae9">  455</a></span>&#160;    utility::string_t <a class="code" href="classweb_1_1http_1_1http__response.html#afe2e87b8b4aacdec1aad9a8f7c0baae9">to_string</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl-&gt;to_string(); }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a1272e1a1e855c1433abd31a76ef3be97">  463</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;utility::string_t&gt;</a> <a class="code" href="classweb_1_1http_1_1http__response.html#a1272e1a1e855c1433abd31a76ef3be97">extract_string</a>(<span class="keywordtype">bool</span> ignore_content_type = <span class="keyword">false</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keyword">auto</span> impl = _m_impl;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">return</span> pplx::create_task(_m_impl-&gt;_get_data_available()).then([impl, ignore_content_type](utility::size64_t) { <span class="keywordflow">return</span> impl-&gt;extract_string(ignore_content_type); });</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a05d642c983c580aea8bcbe60dbe21bfc">  475</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;utf8string&gt;</a> <a class="code" href="classweb_1_1http_1_1http__response.html#a05d642c983c580aea8bcbe60dbe21bfc">extract_utf8string</a>(<span class="keywordtype">bool</span> ignore_content_type = <span class="keyword">false</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keyword">auto</span> impl = _m_impl;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">return</span> pplx::create_task(_m_impl-&gt;_get_data_available()).then([impl, ignore_content_type](utility::size64_t) { <span class="keywordflow">return</span> impl-&gt;extract_utf8string(ignore_content_type); });</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a99d4b658f735dfd922eb281e0e0b9217">  487</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;utf16string&gt;</a> <a class="code" href="classweb_1_1http_1_1http__response.html#a99d4b658f735dfd922eb281e0e0b9217">extract_utf16string</a>(<span class="keywordtype">bool</span> ignore_content_type = <span class="keyword">false</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keyword">auto</span> impl = _m_impl;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">return</span> pplx::create_task(_m_impl-&gt;_get_data_available()).then([impl, ignore_content_type](utility::size64_t) { <span class="keywordflow">return</span> impl-&gt;extract_utf16string(ignore_content_type); });</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a2de616fedbe4b50ce5a67bce00675968">  499</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;json::value&gt;</a> <a class="code" href="classweb_1_1http_1_1http__response.html#a2de616fedbe4b50ce5a67bce00675968">extract_json</a>(<span class="keywordtype">bool</span> ignore_content_type = <span class="keyword">false</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keyword">auto</span> impl = _m_impl;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">return</span> pplx::create_task(_m_impl-&gt;_get_data_available()).then([impl, ignore_content_type](utility::size64_t) { <span class="keywordflow">return</span> impl-&gt;_extract_json(ignore_content_type); });</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a2dc26d0a1f79f0f31fdd6ec78a939cf0">  509</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;std::vector&lt;unsigned char&gt;</a>&gt; <a class="code" href="classweb_1_1http_1_1http__response.html#a2dc26d0a1f79f0f31fdd6ec78a939cf0">extract_vector</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keyword">auto</span> impl = _m_impl;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">return</span> pplx::create_task(_m_impl-&gt;_get_data_available()).then([impl](utility::size64_t) { <span class="keywordflow">return</span> impl-&gt;_extract_vector(); });</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#aceb92b43a0d79024ebd658830baae155">  524</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__response.html#aceb92b43a0d79024ebd658830baae155">set_body</a>(utf8string &amp;&amp;body_text, <span class="keyword">const</span> utf8string &amp;content_type = utf8string(<span class="stringliteral">&quot;text/plain; charset=utf-8&quot;</span>))</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> length = body_text.size();</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        _m_impl-&gt;set_body(concurrency::streams::bytestream::open_istream&lt;std::string&gt;(std::move(body_text)), length, content_type);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00539"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a092bfc840766247d5f3a4971a0164418">  539</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__response.html#a092bfc840766247d5f3a4971a0164418">set_body</a>(<span class="keyword">const</span> utf8string &amp;body_text, <span class="keyword">const</span> utf8string &amp;content_type = utf8string(<span class="stringliteral">&quot;text/plain; charset=utf-8&quot;</span>))</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        _m_impl-&gt;set_body(concurrency::streams::bytestream::open_istream&lt;std::string&gt;(body_text), body_text.size(), content_type);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a3735268323742c7e078c8c30ebdea611">  553</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__response.html#a3735268323742c7e078c8c30ebdea611">set_body</a>(<span class="keyword">const</span> utf16string &amp;body_text, utf16string content_type = ::<a class="code" href="namespaceutility_1_1conversions.html#ac56351f05efb283401aac4249b816894">utility::conversions::to_utf16string</a>(<span class="stringliteral">&quot;text/plain&quot;</span>))</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">if</span> (content_type.find(::<a class="code" href="namespaceutility_1_1conversions.html#ac56351f05efb283401aac4249b816894">utility::conversions::to_utf16string</a>(<span class="stringliteral">&quot;charset=&quot;</span>)) != content_type.npos)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;content_type can&#39;t contain a &#39;charset&#39;.&quot;</span>);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keyword">auto</span> utf8body = <a class="code" href="namespaceutility_1_1conversions.html#aa67ec288f5083b3e6094fa2f7bc93e26">utility::conversions::utf16_to_utf8</a>(body_text);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keyword">auto</span> length = utf8body.size();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        _m_impl-&gt;set_body(concurrency::streams::bytestream::open_istream&lt;std::string&gt;(</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                std::move(utf8body)),</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                length,</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                std::move(content_type.append(::<a class="code" href="namespaceutility_1_1conversions.html#ac56351f05efb283401aac4249b816894">utility::conversions::to_utf16string</a>(<span class="stringliteral">&quot;; charset=utf-8&quot;</span>))));</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a05330fa833db53d5cf7fae67890fb33e">  576</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__response.html#a05330fa833db53d5cf7fae67890fb33e">set_body</a>(<span class="keyword">const</span> <a class="code" href="classweb_1_1json_1_1value.html">json::value</a> &amp;body_data)</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keyword">auto</span> body_text = <a class="code" href="namespaceutility_1_1conversions.html#ac8d51543ee17a75bc289040c802d51af">utility::conversions::to_utf8string</a>(body_data.<a class="code" href="classweb_1_1json_1_1value.html#a5bbd4bca7b13cd912ffe76af825b0c6c">serialize</a>());</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keyword">auto</span> length = body_text.size();</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <a class="code" href="classweb_1_1http_1_1http__response.html#aceb92b43a0d79024ebd658830baae155">set_body</a>(concurrency::streams::bytestream::open_istream(std::move(body_text)), length, _XPLATSTR(<span class="stringliteral">&quot;application/json&quot;</span>));</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div>
<div class="line"><a name="l00591"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a3df4300099f1b1ee2fe69968280a3e60">  591</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__response.html#a3df4300099f1b1ee2fe69968280a3e60">set_body</a>(std::vector&lt;unsigned char&gt; &amp;&amp;body_data)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keyword">auto</span> length = body_data.size();</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <a class="code" href="classweb_1_1http_1_1http__response.html#aceb92b43a0d79024ebd658830baae155">set_body</a>(concurrency::streams::bytestream::open_istream(std::move(body_data)), length);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a4bc99499f785b3e074d79c9370f1d847">  605</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__response.html#a4bc99499f785b3e074d79c9370f1d847">set_body</a>(<span class="keyword">const</span> std::vector&lt;unsigned char&gt; &amp;body_data)</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <a class="code" href="classweb_1_1http_1_1http__response.html#aceb92b43a0d79024ebd658830baae155">set_body</a>(concurrency::streams::bytestream::open_istream(body_data), body_data.size());</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a94076d78fd692d579a28b335a9c920f9">  620</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__response.html#a94076d78fd692d579a28b335a9c920f9">set_body</a>(<span class="keyword">const</span> concurrency::streams::istream &amp;stream, <span class="keyword">const</span> utility::string_t &amp;content_type = _XPLATSTR(<span class="stringliteral">&quot;application/octet-stream&quot;</span>))</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        _m_impl-&gt;set_body(stream, content_type);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00636"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a3929b2eb63efc64caacab71aa6bb273d">  636</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__response.html#a3929b2eb63efc64caacab71aa6bb273d">set_body</a>(<span class="keyword">const</span> concurrency::streams::istream &amp;stream, utility::size64_t content_length, <span class="keyword">const</span> utility::string_t &amp;content_type = _XPLATSTR(<span class="stringliteral">&quot;application/octet-stream&quot;</span>))</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        _m_impl-&gt;set_body(stream, content_length, content_type);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a212c821976f2348adb406602a8f805d5">  651</a></span>&#160;    concurrency::streams::istream <a class="code" href="classweb_1_1http_1_1http__response.html#a212c821976f2348adb406602a8f805d5">body</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="keywordflow">return</span> _m_impl-&gt;instream();</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00660"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__response.html#a736e8f1158f806393d4dcad312939c06">  660</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;http::http_response&gt;</a> <a class="code" href="classweb_1_1http_1_1http__response.html#a736e8f1158f806393d4dcad312939c06">content_ready</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <a class="code" href="classweb_1_1http_1_1http__response.html">http_response</a> resp = *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordflow">return</span> pplx::create_task(_m_impl-&gt;_get_data_available()).then([resp](utility::size64_t) <span class="keyword">mutable</span> { <span class="keywordflow">return</span> resp; });</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    std::shared_ptr&lt;http::details::_http_response&gt; _get_impl()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl; }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="classweb_1_1http_1_1details_1_1__http__server__context.html">http::details::_http_server_context</a> * _get_server_context()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl-&gt;_get_server_context(); }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordtype">void</span> _set_server_context(std::unique_ptr&lt;http::details::_http_server_context&gt; server_context) { _m_impl-&gt;_set_server_context(std::move(server_context)); }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    std::shared_ptr&lt;http::details::_http_response&gt; _m_impl;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;};</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="keyword">namespace </span>details {</div>
<div class="line"><a name="l00680"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1details_1_1__http__request.html">  680</a></span>&#160;<span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1details_1_1__http__request.html">_http_request</a> : <span class="keyword">public</span> <a class="code" href="classweb_1_1http_1_1details_1_1http__msg__base.html">http::details::http_msg_base</a>, <span class="keyword">public</span> std::enable_shared_from_this&lt;_http_request&gt;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;{</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    _ASYNCRTIMP <a class="code" href="classweb_1_1http_1_1details_1_1__http__request.html">_http_request</a>(<a class="code" href="namespaceweb_1_1http.html#a10753d257365e0864768e18dd985e82a">http::method</a> mtd);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    _ASYNCRTIMP _http_request(std::unique_ptr&lt;http::details::_http_server_context&gt; server_context);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keyword">virtual</span> ~_http_request() {}</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <a class="code" href="namespaceweb_1_1http.html#a10753d257365e0864768e18dd985e82a">http::method</a> &amp;method() { <span class="keywordflow">return</span> m_method; }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <a class="code" href="classweb_1_1uri.html">uri</a> &amp;request_uri() { <span class="keywordflow">return</span> m_uri; }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    _ASYNCRTIMP <a class="code" href="classweb_1_1uri.html">uri</a> absolute_uri() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    _ASYNCRTIMP <a class="code" href="classweb_1_1uri.html">uri</a> relative_uri() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    _ASYNCRTIMP <span class="keywordtype">void</span> set_request_uri(<span class="keyword">const</span> <a class="code" href="classweb_1_1uri.html">uri</a>&amp;);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keyword">const</span> <a class="code" href="classpplx_1_1cancellation__token.html">pplx::cancellation_token</a> &amp;cancellation_token()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_cancellationToken; }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordtype">void</span> set_cancellation_token(<span class="keyword">const</span> <a class="code" href="classpplx_1_1cancellation__token.html">pplx::cancellation_token</a> &amp;token)</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        m_cancellationToken = token;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    _ASYNCRTIMP utility::string_t to_string() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    _ASYNCRTIMP <a class="code" href="classpplx_1_1task_3_01void_01_4.html">pplx::task&lt;void&gt;</a> reply(<span class="keyword">const</span> <a class="code" href="classweb_1_1http_1_1http__response.html">http_response</a> &amp;response);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;http_response&gt;</a> get_response()</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;http_response&gt;</a>(m_response);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    _ASYNCRTIMP <a class="code" href="classpplx_1_1task_3_01void_01_4.html">pplx::task&lt;void&gt;</a> _reply_if_not_already(http::status_code status);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordtype">void</span> set_response_stream(<span class="keyword">const</span> concurrency::streams::ostream &amp;stream)</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        m_response_stream = stream;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordtype">void</span> set_progress_handler(<span class="keyword">const</span> progress_handler &amp;handler)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        m_progress_handler = std::make_shared&lt;progress_handler&gt;(handler);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keyword">const</span> concurrency::streams::ostream &amp; _response_stream()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_response_stream; }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keyword">const</span> std::shared_ptr&lt;progress_handler&gt; &amp; _progress_handler()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_progress_handler; }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="classweb_1_1http_1_1details_1_1__http__server__context.html">http::details::_http_server_context</a> * _get_server_context()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_server_context.get(); }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordtype">void</span> _set_server_context(std::unique_ptr&lt;http::details::_http_server_context&gt; server_context) { m_server_context = std::move(server_context); }</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordtype">void</span> _set_listener_path(<span class="keyword">const</span> utility::string_t &amp;path) { m_listener_path = path; }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordtype">void</span> _set_base_uri(<span class="keyword">const</span> <a class="code" href="classweb_1_1uri.html">http::uri</a> &amp;base_uri) { m_base_uri = base_uri; }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="comment">// Actual initiates sending the response, without checking if a response has already been sent.</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <a class="code" href="classpplx_1_1task_3_01void_01_4.html">pplx::task&lt;void&gt;</a> _reply_impl(<a class="code" href="classweb_1_1http_1_1http__response.html">http_response</a> response);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="namespaceweb_1_1http.html#a10753d257365e0864768e18dd985e82a">http::method</a> m_method;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// Tracks whether or not a response has already been started for this message.</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    pplx::details::atomic_long m_initiated_response;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    std::unique_ptr&lt;http::details::_http_server_context&gt; m_server_context;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <a class="code" href="classpplx_1_1cancellation__token.html">pplx::cancellation_token</a> m_cancellationToken;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <a class="code" href="classweb_1_1uri.html">http::uri</a> m_base_uri;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <a class="code" href="classweb_1_1uri.html">http::uri</a> m_uri;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    utility::string_t m_listener_path;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    concurrency::streams::ostream m_response_stream;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    std::shared_ptr&lt;progress_handler&gt; m_progress_handler;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <a class="code" href="classpplx_1_1task__completion__event.html">pplx::task_completion_event&lt;http_response&gt;</a> m_response;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;};</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}  <span class="comment">// namespace details</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div>
<div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html">  771</a></span>&#160;<span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1http__request.html">http_request</a></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;{</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00777"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a6d7c632f0de4ba389a5218bc071033c1">  777</a></span>&#160;    <a class="code" href="classweb_1_1http_1_1http__request.html#a6d7c632f0de4ba389a5218bc071033c1">http_request</a>()</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        : _m_impl(std::make_shared&lt;http::details::_http_request&gt;(<a class="code" href="classweb_1_1http_1_1methods.html">methods</a>::GET)) {}</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div>
<div class="line"><a name="l00784"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a2100f0d3d854550c94acae88a2ba46c5">  784</a></span>&#160;    <a class="code" href="classweb_1_1http_1_1http__request.html#a2100f0d3d854550c94acae88a2ba46c5">http_request</a>(<a class="code" href="namespaceweb_1_1http.html#a10753d257365e0864768e18dd985e82a">http::method</a> mtd)</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        : _m_impl(std::make_shared&lt;http::details::_http_request&gt;(std::move(mtd))) {}</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div>
<div class="line"><a name="l00790"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a468dbac9f4ebeeda55308a73f1ccc483">  790</a></span>&#160;    <a class="code" href="classweb_1_1http_1_1http__request.html#a468dbac9f4ebeeda55308a73f1ccc483">~http_request</a>() {}</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00796"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a6a9067f56e50c7de2130d57c2b3d19e4">  796</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="namespaceweb_1_1http.html#a10753d257365e0864768e18dd985e82a">http::method</a> &amp;<a class="code" href="classweb_1_1http_1_1http__request.html#a6a9067f56e50c7de2130d57c2b3d19e4">method</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl-&gt;method(); }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#afa00491ba45afcca6e988acdfe0434b4">  802</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__request.html#afa00491ba45afcca6e988acdfe0434b4">set_method</a>(<span class="keyword">const</span> <a class="code" href="namespaceweb_1_1http.html#a10753d257365e0864768e18dd985e82a">http::method</a> &amp;method)<span class="keyword"> const </span>{ _m_impl-&gt;method() = <a class="code" href="classweb_1_1http_1_1http__request.html#a6a9067f56e50c7de2130d57c2b3d19e4">method</a>; }</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div>
<div class="line"><a name="l00808"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a18e06374ab1a6fac827d50005c1d6a13">  808</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classweb_1_1uri.html">uri</a> &amp; <a class="code" href="classweb_1_1http_1_1http__request.html#a18e06374ab1a6fac827d50005c1d6a13">request_uri</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl-&gt;request_uri(); }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div>
<div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#acea3e29c7c8665d35608fc4d51b9a3bb">  814</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__request.html#acea3e29c7c8665d35608fc4d51b9a3bb">set_request_uri</a>(<span class="keyword">const</span> <a class="code" href="classweb_1_1uri.html">uri</a>&amp; <a class="code" href="classweb_1_1uri.html">uri</a>) { <span class="keywordflow">return</span> _m_impl-&gt;set_request_uri(uri); }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div>
<div class="line"><a name="l00825"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a5f8aad665e1c0309ec3f788a4dfc9f05">  825</a></span>&#160;    <a class="code" href="classweb_1_1uri.html">uri</a> <a class="code" href="classweb_1_1http_1_1http__request.html#a5f8aad665e1c0309ec3f788a4dfc9f05">relative_uri</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl-&gt;relative_uri(); }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div>
<div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a52f8bb329f6a0c9c3131182983d49390">  834</a></span>&#160;    <a class="code" href="classweb_1_1uri.html">uri</a> <a class="code" href="classweb_1_1http_1_1http__request.html#a52f8bb329f6a0c9c3131182983d49390">absolute_uri</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl-&gt;absolute_uri(); }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div>
<div class="line"><a name="l00843"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#ad1a7501be1b05d8361622b877f2bae5c">  843</a></span>&#160;    <a class="code" href="classweb_1_1http_1_1http__headers.html">http_headers</a> &amp;<a class="code" href="classweb_1_1http_1_1http__request.html#ad1a7501be1b05d8361622b877f2bae5c">headers</a>() { <span class="keywordflow">return</span> _m_impl-&gt;headers(); }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div>
<div class="line"><a name="l00852"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a54168ed27f3080ea73335b0f397022b5">  852</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classweb_1_1http_1_1http__headers.html">http_headers</a> &amp;<a class="code" href="classweb_1_1http_1_1http__request.html#a54168ed27f3080ea73335b0f397022b5">headers</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl-&gt;headers(); }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div>
<div class="line"><a name="l00860"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a0cd0f1c49cab39210517925a3644db1f">  860</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;utility::string_t&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#a0cd0f1c49cab39210517925a3644db1f">extract_string</a>(<span class="keywordtype">bool</span> ignore_content_type = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keyword">auto</span> impl = _m_impl;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <span class="keywordflow">return</span> pplx::create_task(_m_impl-&gt;_get_data_available()).then([impl, ignore_content_type](utility::size64_t) { <span class="keywordflow">return</span> impl-&gt;extract_string(ignore_content_type); });</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div>
<div class="line"><a name="l00872"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#ac38a00ce543ac6e7a27dfbb164bbebe4">  872</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;utf8string&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#ac38a00ce543ac6e7a27dfbb164bbebe4">extract_utf8string</a>(<span class="keywordtype">bool</span> ignore_content_type = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="keyword">auto</span> impl = _m_impl;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">return</span> pplx::create_task(_m_impl-&gt;_get_data_available()).then([impl, ignore_content_type](utility::size64_t) { <span class="keywordflow">return</span> impl-&gt;extract_utf8string(ignore_content_type); });</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div>
<div class="line"><a name="l00884"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a3befbd7c8d0a1c9b135d9f8f34a5281f">  884</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;utf16string&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#a3befbd7c8d0a1c9b135d9f8f34a5281f">extract_utf16string</a>(<span class="keywordtype">bool</span> ignore_content_type = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="keyword">auto</span> impl = _m_impl;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keywordflow">return</span> pplx::create_task(_m_impl-&gt;_get_data_available()).then([impl, ignore_content_type](utility::size64_t) { <span class="keywordflow">return</span> impl-&gt;extract_utf16string(ignore_content_type); });</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div>
<div class="line"><a name="l00896"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#ae6c3d7532fe943de75dcc0445456cbc7">  896</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;json::value&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#ae6c3d7532fe943de75dcc0445456cbc7">extract_json</a>(<span class="keywordtype">bool</span> ignore_content_type = <span class="keyword">false</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keyword">auto</span> impl = _m_impl;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="keywordflow">return</span> pplx::create_task(_m_impl-&gt;_get_data_available()).then([impl, ignore_content_type](utility::size64_t) { <span class="keywordflow">return</span> impl-&gt;_extract_json(ignore_content_type); });</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div>
<div class="line"><a name="l00906"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#af328f088cb412491d4ad05fec7ecd964">  906</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;std::vector&lt;unsigned char&gt;</a>&gt; <a class="code" href="classweb_1_1http_1_1http__request.html#af328f088cb412491d4ad05fec7ecd964">extract_vector</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <span class="keyword">auto</span> impl = _m_impl;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keywordflow">return</span> pplx::create_task(_m_impl-&gt;_get_data_available()).then([impl](utility::size64_t) { <span class="keywordflow">return</span> impl-&gt;_extract_vector(); });</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a7bb84af37dff1025e18b5c7f6d326bff">  921</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__request.html#a7bb84af37dff1025e18b5c7f6d326bff">set_body</a>(utf8string &amp;&amp;body_text, <span class="keyword">const</span> utf8string &amp;content_type = utf8string(<span class="stringliteral">&quot;text/plain; charset=utf-8&quot;</span>))</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> length = body_text.size();</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        _m_impl-&gt;set_body(concurrency::streams::bytestream::open_istream&lt;std::string&gt;(std::move(body_text)), length, content_type);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div>
<div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a2c74132fbe2df7c5b0982c17e4e85e19">  936</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__request.html#a2c74132fbe2df7c5b0982c17e4e85e19">set_body</a>(<span class="keyword">const</span> utf8string &amp;body_text, <span class="keyword">const</span> utf8string &amp;content_type = utf8string(<span class="stringliteral">&quot;text/plain; charset=utf-8&quot;</span>))</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        _m_impl-&gt;set_body(concurrency::streams::bytestream::open_istream&lt;std::string&gt;(body_text), body_text.size(), content_type);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div>
<div class="line"><a name="l00951"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a31034edca1a1ffac63fb7d566a407070">  951</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__request.html#a31034edca1a1ffac63fb7d566a407070">set_body</a>(<span class="keyword">const</span> utf16string &amp;body_text, utf16string content_type = ::<a class="code" href="namespaceutility_1_1conversions.html#ac56351f05efb283401aac4249b816894">utility::conversions::to_utf16string</a>(<span class="stringliteral">&quot;text/plain&quot;</span>))</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keywordflow">if</span>(content_type.find(::<a class="code" href="namespaceutility_1_1conversions.html#ac56351f05efb283401aac4249b816894">utility::conversions::to_utf16string</a>(<span class="stringliteral">&quot;charset=&quot;</span>)) != content_type.npos)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;content_type can&#39;t contain a &#39;charset&#39;.&quot;</span>);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <span class="keyword">auto</span> utf8body = <a class="code" href="namespaceutility_1_1conversions.html#aa67ec288f5083b3e6094fa2f7bc93e26">utility::conversions::utf16_to_utf8</a>(body_text);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keyword">auto</span> length = utf8body.size();</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        _m_impl-&gt;set_body(concurrency::streams::bytestream::open_istream(</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                std::move(utf8body)),</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                length,</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                std::move(content_type.append(::<a class="code" href="namespaceutility_1_1conversions.html#ac56351f05efb283401aac4249b816894">utility::conversions::to_utf16string</a>(<span class="stringliteral">&quot;; charset=utf-8&quot;</span>))));</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div>
<div class="line"><a name="l00974"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#af947ade6138106cb424c68b8bed9d641">  974</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__request.html#af947ade6138106cb424c68b8bed9d641">set_body</a>(<span class="keyword">const</span> <a class="code" href="classweb_1_1json_1_1value.html">json::value</a> &amp;body_data)</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="keyword">auto</span> body_text = <a class="code" href="namespaceutility_1_1conversions.html#ac8d51543ee17a75bc289040c802d51af">utility::conversions::to_utf8string</a>(body_data.<a class="code" href="classweb_1_1json_1_1value.html#a5bbd4bca7b13cd912ffe76af825b0c6c">serialize</a>());</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keyword">auto</span> length = body_text.size();</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        _m_impl-&gt;set_body(concurrency::streams::bytestream::open_istream(std::move(body_text)), length, _XPLATSTR(<span class="stringliteral">&quot;application/json&quot;</span>));</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div>
<div class="line"><a name="l00989"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a26cf25f7f0180a3e5838f38e8de660ee">  989</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__request.html#a26cf25f7f0180a3e5838f38e8de660ee">set_body</a>(std::vector&lt;unsigned char&gt; &amp;&amp;body_data)</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="keyword">auto</span> length = body_data.size();</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        _m_impl-&gt;set_body(concurrency::streams::bytestream::open_istream(std::move(body_data)), length, _XPLATSTR(<span class="stringliteral">&quot;application/octet-stream&quot;</span>));</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div>
<div class="line"><a name="l01003"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a300fb45fe64b5e91f061b607c3877d16"> 1003</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__request.html#a300fb45fe64b5e91f061b607c3877d16">set_body</a>(<span class="keyword">const</span> std::vector&lt;unsigned char&gt; &amp;body_data)</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <a class="code" href="classweb_1_1http_1_1http__request.html#a7bb84af37dff1025e18b5c7f6d326bff">set_body</a>(concurrency::streams::bytestream::open_istream(body_data), body_data.size());</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div>
<div class="line"><a name="l01018"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a05d6cc0210ff53e18e46e5591ce355ab"> 1018</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__request.html#a05d6cc0210ff53e18e46e5591ce355ab">set_body</a>(<span class="keyword">const</span> concurrency::streams::istream &amp;stream, <span class="keyword">const</span> utility::string_t &amp;content_type = _XPLATSTR(<span class="stringliteral">&quot;application/octet-stream&quot;</span>))</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        _m_impl-&gt;set_body(stream, content_type);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div>
<div class="line"><a name="l01034"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a0f89a02afcb62a8f11dbf955b40410f2"> 1034</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__request.html#a0f89a02afcb62a8f11dbf955b40410f2">set_body</a>(<span class="keyword">const</span> concurrency::streams::istream &amp;stream, utility::size64_t content_length, <span class="keyword">const</span> utility::string_t &amp;content_type = _XPLATSTR(<span class="stringliteral">&quot;application/octet-stream&quot;</span>))</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        _m_impl-&gt;set_body(stream, content_length, content_type);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div>
<div class="line"><a name="l01049"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#ac7b6309dc6c704aab674d9afcbb3fa01"> 1049</a></span>&#160;    concurrency::streams::istream <a class="code" href="classweb_1_1http_1_1http__request.html#ac7b6309dc6c704aab674d9afcbb3fa01">body</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="keywordflow">return</span> _m_impl-&gt;instream();</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div>
<div class="line"><a name="l01063"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#ae38790c35476ea1214473d2fc6ed55c9"> 1063</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__request.html#ae38790c35476ea1214473d2fc6ed55c9">set_response_stream</a>(<span class="keyword">const</span> concurrency::streams::ostream &amp;stream)</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keywordflow">return</span> _m_impl-&gt;set_response_stream(stream);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div>
<div class="line"><a name="l01096"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#aecb8ba4c46ba84f8135e8e95103c3cea"> 1096</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__request.html#aecb8ba4c46ba84f8135e8e95103c3cea">set_progress_handler</a>(<span class="keyword">const</span> progress_handler &amp;handler)</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">return</span> _m_impl-&gt;set_progress_handler(handler);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div>
<div class="line"><a name="l01106"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#af34a0f0f1f1b43df856df2ea1f9273be"> 1106</a></span>&#160;    <a class="code" href="classpplx_1_1task_3_01void_01_4.html">pplx::task&lt;void&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#af34a0f0f1f1b43df856df2ea1f9273be">reply</a>(<span class="keyword">const</span> <a class="code" href="classweb_1_1http_1_1http__response.html">http_response</a> &amp;response)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl-&gt;reply(response); }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div>
<div class="line"><a name="l01113"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a7d1e5817410850b06abde2b712b6ebce"> 1113</a></span>&#160;    <a class="code" href="classpplx_1_1task_3_01void_01_4.html">pplx::task&lt;void&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#a7d1e5817410850b06abde2b712b6ebce">reply</a>(http::status_code status)<span class="keyword"> const</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classweb_1_1http_1_1http__request.html#af34a0f0f1f1b43df856df2ea1f9273be">reply</a>(<a class="code" href="classweb_1_1http_1_1http__response.html">http_response</a>(status));</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    }</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div>
<div class="line"><a name="l01124"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a31d1463151d1b65f150ae03b2dca447f"> 1124</a></span>&#160;    <a class="code" href="classpplx_1_1task_3_01void_01_4.html">pplx::task&lt;void&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#a31d1463151d1b65f150ae03b2dca447f">reply</a>(http::status_code status, <span class="keyword">const</span> <a class="code" href="classweb_1_1json_1_1value.html">json::value</a> &amp;body_data)<span class="keyword"> const</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <a class="code" href="classweb_1_1http_1_1http__response.html">http_response</a> response(status);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        response.<a class="code" href="classweb_1_1http_1_1http__response.html#aceb92b43a0d79024ebd658830baae155">set_body</a>(body_data);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classweb_1_1http_1_1http__request.html#af34a0f0f1f1b43df856df2ea1f9273be">reply</a>(response);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="comment">//  Callers of this function do NOT need to block waiting for the response to be</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a753f87b84155a3adf78080edccdca6b5"> 1142</a></span>&#160;<span class="comment"></span>    <a class="code" href="classpplx_1_1task_3_01void_01_4.html">pplx::task&lt;void&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#a753f87b84155a3adf78080edccdca6b5">reply</a>(http::status_code status, utf8string &amp;&amp;body_data, <span class="keyword">const</span> utf8string &amp;content_type = <span class="stringliteral">&quot;text/plain; charset=utf-8&quot;</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <a class="code" href="classweb_1_1http_1_1http__response.html">http_response</a> response(status);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        response.<a class="code" href="classweb_1_1http_1_1http__response.html#aceb92b43a0d79024ebd658830baae155">set_body</a>(std::move(body_data), content_type);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classweb_1_1http_1_1http__request.html#af34a0f0f1f1b43df856df2ea1f9273be">reply</a>(response);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    }</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="comment">//  Callers of this function do NOT need to block waiting for the response to be</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#ae71b807d0263ed2a3b5838b6bfa30437"> 1161</a></span>&#160;<span class="comment"></span>    <a class="code" href="classpplx_1_1task_3_01void_01_4.html">pplx::task&lt;void&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#ae71b807d0263ed2a3b5838b6bfa30437">reply</a>(http::status_code status, <span class="keyword">const</span> utf8string &amp;body_data, <span class="keyword">const</span> utf8string &amp;content_type = <span class="stringliteral">&quot;text/plain; charset=utf-8&quot;</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <a class="code" href="classweb_1_1http_1_1http__response.html">http_response</a> response(status);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        response.<a class="code" href="classweb_1_1http_1_1http__response.html#aceb92b43a0d79024ebd658830baae155">set_body</a>(body_data, content_type);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classweb_1_1http_1_1http__request.html#af34a0f0f1f1b43df856df2ea1f9273be">reply</a>(response);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="comment">//  Callers of this function do NOT need to block waiting for the response to be</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a7afb8ae0a99bdce9518059fadfbcb081"> 1180</a></span>&#160;<span class="comment"></span>    <a class="code" href="classpplx_1_1task_3_01void_01_4.html">pplx::task&lt;void&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#a7afb8ae0a99bdce9518059fadfbcb081">reply</a>(http::status_code status, <span class="keyword">const</span> utf16string &amp;body_data, <span class="keyword">const</span> utf16string &amp;content_type = ::<a class="code" href="namespaceutility_1_1conversions.html#ac56351f05efb283401aac4249b816894">utility::conversions::to_utf16string</a>(<span class="stringliteral">&quot;text/plain&quot;</span>))<span class="keyword"> const</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <a class="code" href="classweb_1_1http_1_1http__response.html">http_response</a> response(status);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        response.<a class="code" href="classweb_1_1http_1_1http__response.html#aceb92b43a0d79024ebd658830baae155">set_body</a>(body_data, content_type);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classweb_1_1http_1_1http__request.html#af34a0f0f1f1b43df856df2ea1f9273be">reply</a>(response);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    }</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div>
<div class="line"><a name="l01194"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a4d7862122bf6f08c40b2a04f02696295"> 1194</a></span>&#160;    <a class="code" href="classpplx_1_1task_3_01void_01_4.html">pplx::task&lt;void&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#a4d7862122bf6f08c40b2a04f02696295">reply</a>(status_code status, <span class="keyword">const</span> concurrency::streams::istream &amp;<a class="code" href="classweb_1_1http_1_1http__request.html#ac7b6309dc6c704aab674d9afcbb3fa01">body</a>, <span class="keyword">const</span> utility::string_t &amp;content_type = _XPLATSTR(<span class="stringliteral">&quot;application/octet-stream&quot;</span>))<span class="keyword"> const</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <a class="code" href="classweb_1_1http_1_1http__response.html">http_response</a> response(status);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        response.<a class="code" href="classweb_1_1http_1_1http__response.html#aceb92b43a0d79024ebd658830baae155">set_body</a>(body, content_type);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classweb_1_1http_1_1http__request.html#af34a0f0f1f1b43df856df2ea1f9273be">reply</a>(response);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    }</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div>
<div class="line"><a name="l01209"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#acb1030ce7dbb58a6deb801eebd2e3eec"> 1209</a></span>&#160;    <a class="code" href="classpplx_1_1task_3_01void_01_4.html">pplx::task&lt;void&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#acb1030ce7dbb58a6deb801eebd2e3eec">reply</a>(status_code status, <span class="keyword">const</span> concurrency::streams::istream &amp;body, utility::size64_t content_length, <span class="keyword">const</span> utility::string_t &amp;content_type = _XPLATSTR(<span class="stringliteral">&quot;application/octet-stream&quot;</span>))<span class="keyword"> const</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <a class="code" href="classweb_1_1http_1_1http__response.html">http_response</a> response(status);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        response.<a class="code" href="classweb_1_1http_1_1http__response.html#aceb92b43a0d79024ebd658830baae155">set_body</a>(body, content_length, content_type);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classweb_1_1http_1_1http__request.html#af34a0f0f1f1b43df856df2ea1f9273be">reply</a>(response);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    }</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div>
<div class="line"><a name="l01220"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a71a2b663915b4a39c715b09fd8c1df3a"> 1220</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;http_request&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#a71a2b663915b4a39c715b09fd8c1df3a">content_ready</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <a class="code" href="classweb_1_1http_1_1http__request.html">http_request</a> req = *<span class="keyword">this</span>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <span class="keywordflow">return</span> pplx::create_task(_m_impl-&gt;_get_data_available()).then([req](utility::size64_t) <span class="keyword">mutable</span> { <span class="keywordflow">return</span> req; });</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div>
<div class="line"><a name="l01230"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a6b676982783b8bc89335e5855943c0e7"> 1230</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;http_response&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#a6b676982783b8bc89335e5855943c0e7">get_response</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <span class="keywordflow">return</span> _m_impl-&gt;get_response();</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div>
<div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a1e95dcdd5f609db1fd4d4ff2dfe4c5d3"> 1245</a></span>&#160;    utility::string_t <a class="code" href="classweb_1_1http_1_1http__request.html#a1e95dcdd5f609db1fd4d4ff2dfe4c5d3">to_string</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl-&gt;to_string(); }</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div>
<div class="line"><a name="l01250"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#a6c0c3f7ca3c0289f036e7d2005802012"> 1250</a></span>&#160;    <a class="code" href="classpplx_1_1task_3_01void_01_4.html">pplx::task&lt;void&gt;</a> <a class="code" href="classweb_1_1http_1_1http__request.html#a6c0c3f7ca3c0289f036e7d2005802012">_reply_if_not_already</a>(status_code status) { <span class="keywordflow">return</span> _m_impl-&gt;_reply_if_not_already(status); }</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;</div>
<div class="line"><a name="l01255"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#aebed833f56554d7ac508dd5ab5224bb2"> 1255</a></span>&#160;    <a class="code" href="classweb_1_1http_1_1details_1_1__http__server__context.html">http::details::_http_server_context</a> * <a class="code" href="classweb_1_1http_1_1http__request.html#aebed833f56554d7ac508dd5ab5224bb2">_get_server_context</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl-&gt;_get_server_context(); }</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div>
<div class="line"><a name="l01260"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__request.html#ab71c6bb901c58736a732a05ec0aff4e7"> 1260</a></span>&#160;    <span class="keyword">static</span> <a class="code" href="classweb_1_1http_1_1http__request.html">http_request</a> <a class="code" href="classweb_1_1http_1_1http__request.html#ab71c6bb901c58736a732a05ec0aff4e7">_create_request</a>(std::unique_ptr&lt;http::details::_http_server_context&gt; server_context) { <span class="keywordflow">return</span> <a class="code" href="classweb_1_1http_1_1http__request.html#a6d7c632f0de4ba389a5218bc071033c1">http_request</a>(std::move(server_context)); }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="keywordtype">void</span> _set_server_context(std::unique_ptr&lt;http::details::_http_server_context&gt; server_context) { _m_impl-&gt;_set_server_context(std::move(server_context)); }</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordtype">void</span> _set_listener_path(<span class="keyword">const</span> utility::string_t &amp;path) { _m_impl-&gt;_set_listener_path(path); }</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keyword">const</span> std::shared_ptr&lt;http::details::_http_request&gt; &amp; _get_impl()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _m_impl; }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordtype">void</span> _set_cancellation_token(<span class="keyword">const</span> <a class="code" href="classpplx_1_1cancellation__token.html">pplx::cancellation_token</a> &amp;token)</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        _m_impl-&gt;set_cancellation_token(token);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    }</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keyword">const</span> <a class="code" href="classpplx_1_1cancellation__token.html">pplx::cancellation_token</a> &amp; _cancellation_token()<span class="keyword"> const</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <span class="keywordflow">return</span> _m_impl-&gt;cancellation_token();</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    }</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keywordtype">void</span> _set_base_uri(<span class="keyword">const</span> http::uri &amp;base_uri)</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        _m_impl-&gt;_set_base_uri(base_uri);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    }</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span>http::details::_http_request;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span>http::client::http_client;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <a class="code" href="classweb_1_1http_1_1http__request.html#a6d7c632f0de4ba389a5218bc071033c1">http_request</a>(std::unique_ptr&lt;http::details::_http_server_context&gt; server_context) : _m_impl(std::make_shared&lt;details::_http_request&gt;(std::move(server_context))) {}</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    std::shared_ptr&lt;http::details::_http_request&gt; _m_impl;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;};</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div>
<div class="line"><a name="l01302"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__pipeline__stage.html"> 1302</a></span>&#160;<span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1http__pipeline__stage.html">http_pipeline_stage</a> : <span class="keyword">public</span> std::enable_shared_from_this&lt;http_pipeline_stage&gt;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;{</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keyword">virtual</span> ~<a class="code" href="classweb_1_1http_1_1http__pipeline__stage.html">http_pipeline_stage</a>()</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;http_response&gt;</a> <a class="code" href="classweb_1_1http_1_1http__pipeline__stage.html#a4946288c605d28d09e3f3239974b53fe">propagate</a>(<a class="code" href="classweb_1_1http_1_1http__request.html">http_request</a> request) = 0;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <a class="code" href="classweb_1_1http_1_1http__pipeline__stage.html">http_pipeline_stage</a>()</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    }</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div>
<div class="line"><a name="l01327"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__pipeline__stage.html#a1d2c22d9e781fd00708a5a0c2d28e445"> 1327</a></span>&#160;    <span class="keyword">const</span> std::shared_ptr&lt;http_pipeline_stage&gt; &amp; <a class="code" href="classweb_1_1http_1_1http__pipeline__stage.html#a1d2c22d9e781fd00708a5a0c2d28e445">next_stage</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        <span class="keywordflow">return</span> m_next_stage;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    }</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div>
<div class="line"><a name="l01336"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__pipeline__stage.html#a5331324268b7fb68fbb3238262aac8e6"> 1336</a></span>&#160;    std::shared_ptr&lt;http_pipeline_stage&gt; <a class="code" href="classweb_1_1http_1_1http__pipeline__stage.html#a5331324268b7fb68fbb3238262aac8e6">current_stage</a>()</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="keywordflow">return</span> this-&gt;shared_from_this();</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    }</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1http__pipeline.html">http_pipeline</a>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="keywordtype">void</span> set_next_stage(<span class="keyword">const</span> std::shared_ptr&lt;http_pipeline_stage&gt; &amp;next)</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        m_next_stage = next;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    }</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    std::shared_ptr&lt;http_pipeline_stage&gt; m_next_stage;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="comment">// No copy or assignment.</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    http_pipeline_stage &amp; operator=(<span class="keyword">const</span> http_pipeline_stage &amp;);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    http_pipeline_stage(<span class="keyword">const</span> http_pipeline_stage &amp;);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;};</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="keyword">namespace </span>details {</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div>
<div class="line"><a name="l01358"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1details_1_1function__pipeline__wrapper.html"> 1358</a></span>&#160;<span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1details_1_1function__pipeline__wrapper.html">function_pipeline_wrapper</a> : <span class="keyword">public</span> <a class="code" href="classweb_1_1http_1_1http__pipeline__stage.html">http::http_pipeline_stage</a></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;{</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="classweb_1_1http_1_1details_1_1function__pipeline__wrapper.html">function_pipeline_wrapper</a>(std::function&lt;<a class="code" href="classpplx_1_1task.html">pplx::task&lt;http_response&gt;</a>(<a class="code" href="classweb_1_1http_1_1http__request.html">http_request</a>, std::shared_ptr&lt;http::http_pipeline_stage&gt;)&gt; handler) : m_handler(handler)</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    }</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div>
<div class="line"><a name="l01365"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1details_1_1function__pipeline__wrapper.html#ad44ef04a8ed54536d63d1e1fa7adbfbd"> 1365</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="classpplx_1_1task.html">pplx::task&lt;http_response&gt;</a> <a class="code" href="classweb_1_1http_1_1details_1_1function__pipeline__wrapper.html#ad44ef04a8ed54536d63d1e1fa7adbfbd">propagate</a>(<a class="code" href="classweb_1_1http_1_1http__request.html">http_request</a> request)<span class="keyword"> override</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <span class="keywordflow">return</span> m_handler(request, <a class="code" href="classweb_1_1http_1_1http__pipeline__stage.html#a1d2c22d9e781fd00708a5a0c2d28e445">next_stage</a>());</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    }</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    std::function&lt;pplx::task&lt;http_response&gt;(<a class="code" href="classweb_1_1http_1_1http__request.html">http_request</a>, std::shared_ptr&lt;http::http_pipeline_stage&gt;)&gt; m_handler;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;};</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;} <span class="comment">// namespace details</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div>
<div class="line"><a name="l01379"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__pipeline.html"> 1379</a></span>&#160;<span class="keyword">class </span><a class="code" href="classweb_1_1http_1_1http__pipeline.html">http_pipeline</a></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;{</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div>
<div class="line"><a name="l01387"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__pipeline.html#af995ed3b5a6825f28c2a7f95e5b8b818"> 1387</a></span>&#160;    <span class="keyword">static</span> std::shared_ptr&lt;http_pipeline&gt; <a class="code" href="classweb_1_1http_1_1http__pipeline.html#af995ed3b5a6825f28c2a7f95e5b8b818">create_pipeline</a>(<span class="keyword">const</span> std::shared_ptr&lt;http_pipeline_stage&gt; &amp;last)</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <span class="keywordflow">return</span> std::shared_ptr&lt;http_pipeline&gt;(<span class="keyword">new</span> <a class="code" href="classweb_1_1http_1_1http__pipeline.html">http_pipeline</a>(last));</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div>
<div class="line"><a name="l01396"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__pipeline.html#afe6eacec681ee3d15bc5a3eb107d9dcc"> 1396</a></span>&#160;    <a class="code" href="classpplx_1_1task.html">pplx::task&lt;http_response&gt;</a> <a class="code" href="classweb_1_1http_1_1http__pipeline.html#afe6eacec681ee3d15bc5a3eb107d9dcc">propagate</a>(<a class="code" href="classweb_1_1http_1_1http__request.html">http_request</a> request)</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        std::shared_ptr&lt;http_pipeline_stage&gt; first;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            <a class="code" href="classpplx_1_1scoped__lock.html">pplx::extensibility::scoped_recursive_lock_t</a> l(m_lock);</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            first = (m_stages.size() &gt; 0) ? m_stages[0] : m_last_stage;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <span class="keywordflow">return</span> first-&gt;propagate(request);</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    }</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div>
<div class="line"><a name="l01410"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__pipeline.html#ab1d1ed2449ecdfd74b81f628ecbecce8"> 1410</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__pipeline.html#ab1d1ed2449ecdfd74b81f628ecbecce8">append</a>(<span class="keyword">const</span> std::shared_ptr&lt;http_pipeline_stage&gt; &amp;stage)</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <a class="code" href="classpplx_1_1scoped__lock.html">pplx::extensibility::scoped_recursive_lock_t</a> l(m_lock);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        <span class="keywordflow">if</span> (m_stages.size() &gt; 0)</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        {</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;            std::shared_ptr&lt;http_pipeline_stage&gt; penultimate = m_stages[m_stages.size()-1];</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;            penultimate-&gt;set_next_stage(stage);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        }</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        stage-&gt;set_next_stage(m_last_stage);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        m_stages.push_back(stage);</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    }</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div>
<div class="line"><a name="l01428"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__pipeline.html#aa44c4f89faf80ebd6bd66dc20e8a9300"> 1428</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classweb_1_1http_1_1http__pipeline.html#aa44c4f89faf80ebd6bd66dc20e8a9300">set_last_stage</a>(<span class="keyword">const</span> std::shared_ptr&lt;http_pipeline_stage&gt; &amp;last)</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        m_last_stage = last;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    }</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div>
<div class="line"><a name="l01437"></a><span class="lineno"><a class="line" href="classweb_1_1http_1_1http__pipeline.html#a128c44c0ffab8c94d28d17fd3c37c4a1"> 1437</a></span>&#160;    <span class="keyword">const</span> std::shared_ptr&lt;http_pipeline_stage&gt;&amp; <a class="code" href="classweb_1_1http_1_1http__pipeline.html#a128c44c0ffab8c94d28d17fd3c37c4a1">last_stage</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        <span class="keywordflow">return</span> m_last_stage;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    }</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <a class="code" href="classweb_1_1http_1_1http__pipeline.html">http_pipeline</a>(<span class="keyword">const</span> std::shared_ptr&lt;http_pipeline_stage&gt; &amp;last) : m_last_stage(last)</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    {</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="comment">// The vector of pipeline stages.</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    std::vector&lt;std::shared_ptr&lt;http_pipeline_stage&gt;&gt; m_stages;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="comment">// The last stage is always set up by the client or listener and cannot</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="comment">// be changed. All application-defined stages are executed before the</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="comment">// last stage, which is typically a send or dispatch.</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    std::shared_ptr&lt;http_pipeline_stage&gt; m_last_stage;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <a class="code" href="classpplx_1_1details_1_1recursive__lock__impl.html">pplx::extensibility::recursive_lock_t</a> m_lock;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="comment">// No copy or assignment.</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    http_pipeline &amp; operator=(<span class="keyword">const</span> http_pipeline &amp;);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    http_pipeline(<span class="keyword">const</span> http_pipeline &amp;);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;};</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;}}</div>
<div class="ttc" id="classweb_1_1http_1_1status__codes_html"><div class="ttname"><a href="classweb_1_1http_1_1status__codes.html">web::http::status_codes</a></div><div class="ttdoc">Predefined values for all of the standard HTTP 1.1 response status codes. </div><div class="ttdef"><b>Definition:</b> http_msg.h:82</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__pipeline_html_a128c44c0ffab8c94d28d17fd3c37c4a1"><div class="ttname"><a href="classweb_1_1http_1_1http__pipeline.html#a128c44c0ffab8c94d28d17fd3c37c4a1">web::http::http_pipeline::last_stage</a></div><div class="ttdeci">const std::shared_ptr&lt; http_pipeline_stage &gt; &amp; last_stage() const </div><div class="ttdoc">Retrieves the last stage in this pipeline. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1437</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a2dc26d0a1f79f0f31fdd6ec78a939cf0"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a2dc26d0a1f79f0f31fdd6ec78a939cf0">web::http::http_response::extract_vector</a></div><div class="ttdeci">pplx::task&lt; std::vector&lt; unsigned char &gt; &gt; extract_vector() const </div><div class="ttdoc">Extracts the body of the response message into a vector of bytes. </div><div class="ttdef"><b>Definition:</b> http_msg.h:509</div></div>
<div class="ttc" id="classpplx_1_1scoped__lock_html"><div class="ttname"><a href="classpplx_1_1scoped__lock.html">pplx::scoped_lock</a></div><div class="ttdoc">A generic RAII wrapper for locks that implements the critical_section interface cpprest_synchronizati...</div><div class="ttdef"><b>Definition:</b> pplxlinux.h:264</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__exception_html"><div class="ttname"><a href="classweb_1_1http_1_1http__exception.html">web::http::http_exception</a></div><div class="ttdoc">Represents an HTTP error. This class holds an error message and an optional error code...</div><div class="ttdef"><b>Definition:</b> http_msg.h:130</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a6a9067f56e50c7de2130d57c2b3d19e4"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a6a9067f56e50c7de2130d57c2b3d19e4">web::http::http_request::method</a></div><div class="ttdeci">const http::method &amp; method() const </div><div class="ttdoc">Get the method (GET/PUT/POST/DELETE) of the request message. </div><div class="ttdef"><b>Definition:</b> http_msg.h:796</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a736e8f1158f806393d4dcad312939c06"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a736e8f1158f806393d4dcad312939c06">web::http::http_response::content_ready</a></div><div class="ttdeci">pplx::task&lt; http::http_response &gt; content_ready() const </div><div class="ttdoc">Signals the user (client) when all the data for this response message has been received. </div><div class="ttdef"><b>Definition:</b> http_msg.h:660</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_acea3e29c7c8665d35608fc4d51b9a3bb"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#acea3e29c7c8665d35608fc4d51b9a3bb">web::http::http_request::set_request_uri</a></div><div class="ttdeci">void set_request_uri(const uri &amp;uri)</div><div class="ttdoc">Set the underling URI of the request message. </div><div class="ttdef"><b>Definition:</b> http_msg.h:814</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__headers_html"><div class="ttname"><a href="classweb_1_1http_1_1http__headers.html">web::http::http_headers</a></div><div class="ttdoc">Represents HTTP headers, acts like a map. </div><div class="ttdef"><b>Definition:</b> http_headers.h:75</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_ae2ee403657d29cc52abb94a7a9b0571c"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#ae2ee403657d29cc52abb94a7a9b0571c">web::http::http_response::http_response</a></div><div class="ttdeci">http_response()</div><div class="ttdoc">Constructs a response with an empty status code, no headers, and no body. </div><div class="ttdef"><b>Definition:</b> http_msg.h:391</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_ac7b6309dc6c704aab674d9afcbb3fa01"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#ac7b6309dc6c704aab674d9afcbb3fa01">web::http::http_request::body</a></div><div class="ttdeci">concurrency::streams::istream body() const </div><div class="ttdoc">Produces a stream which the caller may use to retrieve data from an incoming request. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1049</div></div>
<div class="ttc" id="namespaceutility_1_1conversions_html_aa67ec288f5083b3e6094fa2f7bc93e26"><div class="ttname"><a href="namespaceutility_1_1conversions.html#aa67ec288f5083b3e6094fa2f7bc93e26">utility::conversions::utf16_to_utf8</a></div><div class="ttdeci">_ASYNCRTIMP std::string __cdecl utf16_to_utf8(const utf16string &amp;w)</div><div class="ttdoc">Converts a UTF-16 string to a UTF-8 string. </div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_aebed833f56554d7ac508dd5ab5224bb2"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#aebed833f56554d7ac508dd5ab5224bb2">web::http::http_request::_get_server_context</a></div><div class="ttdeci">http::details::_http_server_context * _get_server_context() const </div><div class="ttdoc">Gets the server context associated with this HTTP message. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1255</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a54168ed27f3080ea73335b0f397022b5"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a54168ed27f3080ea73335b0f397022b5">web::http::http_request::headers</a></div><div class="ttdeci">const http_headers &amp; headers() const </div><div class="ttdoc">Gets a const reference to the headers of the response message. </div><div class="ttdef"><b>Definition:</b> http_msg.h:852</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1http__msg__base_html_a4cd70e200d8d6001c2ccc424ab139d83"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1http__msg__base.html#a4cd70e200d8d6001c2ccc424ab139d83">web::http::details::http_msg_base::_complete</a></div><div class="ttdeci">virtual _ASYNCRTIMP void _complete(utility::size64_t bodySize, const std::exception_ptr &amp;exceptionPtr=std::exception_ptr())</div><div class="ttdoc">Completes this message </div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a05d642c983c580aea8bcbe60dbe21bfc"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a05d642c983c580aea8bcbe60dbe21bfc">web::http::http_response::extract_utf8string</a></div><div class="ttdeci">pplx::task&lt; utf8string &gt; extract_utf8string(bool ignore_content_type=false) const </div><div class="ttdoc">Extracts the body of the response message as a UTF-8 string value, checking that the content type is ...</div><div class="ttdef"><b>Definition:</b> http_msg.h:475</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html">web::http::http_response</a></div><div class="ttdoc">Represents an HTTP response. </div><div class="ttdef"><b>Definition:</b> http_msg.h:383</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_aecb8ba4c46ba84f8135e8e95103c3cea"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#aecb8ba4c46ba84f8135e8e95103c3cea">web::http::http_request::set_progress_handler</a></div><div class="ttdeci">void set_progress_handler(const progress_handler &amp;handler)</div><div class="ttdoc">Defines a callback function that will be invoked for every chunk of data uploaded or downloaded as pa...</div><div class="ttdef"><b>Definition:</b> http_msg.h:1096</div></div>
<div class="ttc" id="classweb_1_1http_1_1methods_html"><div class="ttname"><a href="classweb_1_1http_1_1methods.html">web::http::methods</a></div><div class="ttdoc">Common HTTP methods. </div><div class="ttdef"><b>Definition:</b> http_msg.h:67</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1http__msg__base_html_a769de42ace5dc07b1bb2c37bca257d46"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1http__msg__base.html#a769de42ace5dc07b1bb2c37bca257d46">web::http::details::http_msg_base::_get_content_length</a></div><div class="ttdeci">_ASYNCRTIMP size_t _get_content_length()</div><div class="ttdoc">Determine the content length </div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a7afb8ae0a99bdce9518059fadfbcb081"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a7afb8ae0a99bdce9518059fadfbcb081">web::http::http_request::reply</a></div><div class="ttdeci">pplx::task&lt; void &gt; reply(http::status_code status, const utf16string &amp;body_data, const utf16string &amp;content_type=::utility::conversions::to_utf16string(&quot;text/plain&quot;)) const </div><div class="ttdoc">Responds to this HTTP request with a string. Assumes the character encoding of the string is UTF-16 w...</div><div class="ttdef"><b>Definition:</b> http_msg.h:1180</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__pipeline__stage_html"><div class="ttname"><a href="classweb_1_1http_1_1http__pipeline__stage.html">web::http::http_pipeline_stage</a></div><div class="ttdoc">HTTP client handler class, used to represent an HTTP pipeline stage. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1302</div></div>
<div class="ttc" id="classweb_1_1uri_html"><div class="ttname"><a href="classweb_1_1uri.html">web::uri</a></div><div class="ttdoc">A flexible, protocol independent URI implementation. </div><div class="ttdef"><b>Definition:</b> base_uri.h:151</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_ae6c3d7532fe943de75dcc0445456cbc7"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#ae6c3d7532fe943de75dcc0445456cbc7">web::http::http_request::extract_json</a></div><div class="ttdeci">pplx::task&lt; json::value &gt; extract_json(bool ignore_content_type=false) const </div><div class="ttdoc">Extracts the body of the request message into a json value, checking that the content type is applica...</div><div class="ttdef"><b>Definition:</b> http_msg.h:896</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__exception_html_ad6dd84974c854731f1028b77221c98b0"><div class="ttname"><a href="classweb_1_1http_1_1http__exception.html#ad6dd84974c854731f1028b77221c98b0">web::http::http_exception::http_exception</a></div><div class="ttdeci">http_exception(int errorCode, const utility::string_t &amp;whatArg)</div><div class="ttdoc">Creates an http_exception with from a error code using the current platform error category...</div><div class="ttdef"><b>Definition:</b> http_msg.h:165</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a468dbac9f4ebeeda55308a73f1ccc483"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a468dbac9f4ebeeda55308a73f1ccc483">web::http::http_request::~http_request</a></div><div class="ttdeci">~http_request()</div><div class="ttdoc">Destructor frees any held resources. </div><div class="ttdef"><b>Definition:</b> http_msg.h:790</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_ad1a7501be1b05d8361622b877f2bae5c"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#ad1a7501be1b05d8361622b877f2bae5c">web::http::http_request::headers</a></div><div class="ttdeci">http_headers &amp; headers()</div><div class="ttdoc">Gets a reference to the headers of the response message. </div><div class="ttdef"><b>Definition:</b> http_msg.h:843</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1http__msg__base_html_a72f095e8243a5ee7c8c35965e710bfdb"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1http__msg__base.html#a72f095e8243a5ee7c8c35965e710bfdb">web::http::details::http_msg_base::outstream</a></div><div class="ttdeci">const concurrency::streams::ostream &amp; outstream() const </div><div class="ttdoc">Get the stream through which the message body could be written </div><div class="ttdef"><b>Definition:</b> http_msg.h:282</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__exception_html_a9af95f0ace0185a20c606846c6069fe1"><div class="ttname"><a href="classweb_1_1http_1_1http__exception.html#a9af95f0ace0185a20c606846c6069fe1">web::http::http_exception::error_code</a></div><div class="ttdeci">const std::error_code &amp; error_code() const </div><div class="ttdoc">Retrieves the underlying error code causing this exception. </div><div class="ttdef"><b>Definition:</b> http_msg.h:206</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1function__pipeline__wrapper_html"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1function__pipeline__wrapper.html">web::http::details::function_pipeline_wrapper</a></div><div class="ttdef"><b>Definition:</b> http_msg.h:1358</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__exception_html_a657d601863bac9f483244d31bdbd46b8"><div class="ttname"><a href="classweb_1_1http_1_1http__exception.html#a657d601863bac9f483244d31bdbd46b8">web::http::http_exception::http_exception</a></div><div class="ttdeci">http_exception(const utility::string_t &amp;whatArg)</div><div class="ttdoc">Creates an http_exception with just a string message and no error code. </div><div class="ttdef"><b>Definition:</b> http_msg.h:138</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_ab0bd6a4c59a88eabbc4318ad2483acb2"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#ab0bd6a4c59a88eabbc4318ad2483acb2">web::http::http_response::set_reason_phrase</a></div><div class="ttdeci">void set_reason_phrase(const http::reason_phrase &amp;reason) const </div><div class="ttdoc">Sets the reason phrase of the response message. If no reason phrase is set it will default to the sta...</div><div class="ttdef"><b>Definition:</b> http_msg.h:428</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a1272e1a1e855c1433abd31a76ef3be97"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a1272e1a1e855c1433abd31a76ef3be97">web::http::http_response::extract_string</a></div><div class="ttdeci">pplx::task&lt; utility::string_t &gt; extract_string(bool ignore_content_type=false) const </div><div class="ttdoc">Extracts the body of the response message as a string value, checking that the content type is a MIME...</div><div class="ttdef"><b>Definition:</b> http_msg.h:463</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_af328f088cb412491d4ad05fec7ecd964"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#af328f088cb412491d4ad05fec7ecd964">web::http::http_request::extract_vector</a></div><div class="ttdeci">pplx::task&lt; std::vector&lt; unsigned char &gt; &gt; extract_vector() const </div><div class="ttdoc">Extract the body of the response message into a vector of bytes. Extracting a vector can be done on ...</div><div class="ttdef"><b>Definition:</b> http_msg.h:906</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a17ecc55265b87f0749ba5ba7e3902233"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a17ecc55265b87f0749ba5ba7e3902233">web::http::http_response::set_status_code</a></div><div class="ttdeci">void set_status_code(http::status_code code) const </div><div class="ttdoc">Sets the status code of the response message. </div><div class="ttdef"><b>Definition:</b> http_msg.h:414</div></div>
<div class="ttc" id="namespaceweb_html"><div class="ttname"><a href="namespaceweb.html">web</a></div><div class="ttdoc">The web namespace contains functionality common to multiple protocols like HTTP and WebSockets...</div><div class="ttdef"><b>Definition:</b> base_uri.h:37</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a4d7862122bf6f08c40b2a04f02696295"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a4d7862122bf6f08c40b2a04f02696295">web::http::http_request::reply</a></div><div class="ttdeci">pplx::task&lt; void &gt; reply(status_code status, const concurrency::streams::istream &amp;body, const utility::string_t &amp;content_type=_XPLATSTR(&quot;application/octet-stream&quot;)) const </div><div class="ttdoc">Responds to this HTTP request. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1194</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1http__msg__base_html_a68799f4f4d3bddfff8d8a3b1ee150396"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1http__msg__base.html#a68799f4f4d3bddfff8d8a3b1ee150396">web::http::details::http_msg_base::m_data_available</a></div><div class="ttdeci">pplx::task_completion_event&lt; utility::size64_t &gt; m_data_available</div><div class="ttdoc">The TCE is used to signal the availability of the message body. </div><div class="ttdef"><b>Definition:</b> http_msg.h:331</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_aceb92b43a0d79024ebd658830baae155"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#aceb92b43a0d79024ebd658830baae155">web::http::http_response::set_body</a></div><div class="ttdeci">void set_body(utf8string &amp;&amp;body_text, const utf8string &amp;content_type=utf8string(&quot;text/plain; charset=utf-8&quot;))</div><div class="ttdoc">Sets the body of the message to a textual string and set the "Content-Type" header. Assumes the character encoding of the string is UTF-8. </div><div class="ttdef"><b>Definition:</b> http_msg.h:524</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__pipeline__stage_html_a4946288c605d28d09e3f3239974b53fe"><div class="ttname"><a href="classweb_1_1http_1_1http__pipeline__stage.html#a4946288c605d28d09e3f3239974b53fe">web::http::http_pipeline_stage::propagate</a></div><div class="ttdeci">virtual pplx::task&lt; http_response &gt; propagate(http_request request)=0</div><div class="ttdoc">Runs this stage against the given request and passes onto the next stage. </div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_ae9b24391efb8111ceb4f1f9396911a49"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#ae9b24391efb8111ceb4f1f9396911a49">web::http::http_response::headers</a></div><div class="ttdeci">const http_headers &amp; headers() const </div><div class="ttdoc">Gets a const reference to the headers of the response message. </div><div class="ttdef"><b>Definition:</b> http_msg.h:443</div></div>
<div class="ttc" id="classweb_1_1http_1_1client_1_1http__client_html"><div class="ttname"><a href="classweb_1_1http_1_1client_1_1http__client.html">web::http::client::http_client</a></div><div class="ttdoc">HTTP client class, used to maintain a connection to an HTTP service for an extended session...</div><div class="ttdef"><b>Definition:</b> http_client.h:383</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_acb1030ce7dbb58a6deb801eebd2e3eec"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#acb1030ce7dbb58a6deb801eebd2e3eec">web::http::http_request::reply</a></div><div class="ttdeci">pplx::task&lt; void &gt; reply(status_code status, const concurrency::streams::istream &amp;body, utility::size64_t content_length, const utility::string_t &amp;content_type=_XPLATSTR(&quot;application/octet-stream&quot;)) const </div><div class="ttdoc">Responds to this HTTP request. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1209</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__pipeline__stage_html_a5331324268b7fb68fbb3238262aac8e6"><div class="ttname"><a href="classweb_1_1http_1_1http__pipeline__stage.html#a5331324268b7fb68fbb3238262aac8e6">web::http::http_pipeline_stage::current_stage</a></div><div class="ttdeci">std::shared_ptr&lt; http_pipeline_stage &gt; current_stage()</div><div class="ttdoc">Gets a shared pointer to this pipeline stage. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1336</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a926da1cf11129fd92c2c7919597fdead"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a926da1cf11129fd92c2c7919597fdead">web::http::http_response::reason_phrase</a></div><div class="ttdeci">const http::reason_phrase &amp; reason_phrase() const </div><div class="ttdoc">Gets the reason phrase of the response message. If no reason phrase is set it will default to the sta...</div><div class="ttdef"><b>Definition:</b> http_msg.h:421</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__pipeline_html_af995ed3b5a6825f28c2a7f95e5b8b818"><div class="ttname"><a href="classweb_1_1http_1_1http__pipeline.html#af995ed3b5a6825f28c2a7f95e5b8b818">web::http::http_pipeline::create_pipeline</a></div><div class="ttdeci">static std::shared_ptr&lt; http_pipeline &gt; create_pipeline(const std::shared_ptr&lt; http_pipeline_stage &gt; &amp;last)</div><div class="ttdoc">Create an http pipeline that consists of a linear chain of stages </div><div class="ttdef"><b>Definition:</b> http_msg.h:1387</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a300fb45fe64b5e91f061b607c3877d16"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a300fb45fe64b5e91f061b607c3877d16">web::http::http_request::set_body</a></div><div class="ttdeci">void set_body(const std::vector&lt; unsigned char &gt; &amp;body_data)</div><div class="ttdoc">Sets the body of the message to the contents of a byte vector. If the &#39;Content-Type&#39; header hasn&#39;t al...</div><div class="ttdef"><b>Definition:</b> http_msg.h:1003</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a1e95dcdd5f609db1fd4d4ff2dfe4c5d3"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a1e95dcdd5f609db1fd4d4ff2dfe4c5d3">web::http::http_request::to_string</a></div><div class="ttdeci">utility::string_t to_string() const </div><div class="ttdoc">Generates a string representation of the message, including the body when possible. Mainly this should be used for debugging purposes as it has to copy the message body and doesn&#39;t have excellent performance. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1245</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a3735268323742c7e078c8c30ebdea611"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a3735268323742c7e078c8c30ebdea611">web::http::http_response::set_body</a></div><div class="ttdeci">void set_body(const utf16string &amp;body_text, utf16string content_type=::utility::conversions::to_utf16string(&quot;text/plain&quot;))</div><div class="ttdoc">Sets the body of the message to a textual string and set the "Content-Type" header. Assumes the character encoding of the string is UTF-16 will perform conversion to UTF-8. </div><div class="ttdef"><b>Definition:</b> http_msg.h:553</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1http__msg__base_html"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1http__msg__base.html">web::http::details::http_msg_base</a></div><div class="ttdoc">Base class for HTTP messages. This class is to store common functionality so it isn&#39;t duplicated on b...</div><div class="ttdef"><b>Definition:</b> http_msg.h:224</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a2c74132fbe2df7c5b0982c17e4e85e19"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a2c74132fbe2df7c5b0982c17e4e85e19">web::http::http_request::set_body</a></div><div class="ttdeci">void set_body(const utf8string &amp;body_text, const utf8string &amp;content_type=utf8string(&quot;text/plain; charset=utf-8&quot;))</div><div class="ttdoc">Sets the body of the message to a textual string and set the "Content-Type" header. Assumes the character encoding of the string is UTF-8. </div><div class="ttdef"><b>Definition:</b> http_msg.h:936</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a753f87b84155a3adf78080edccdca6b5"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a753f87b84155a3adf78080edccdca6b5">web::http::http_request::reply</a></div><div class="ttdeci">pplx::task&lt; void &gt; reply(http::status_code status, utf8string &amp;&amp;body_data, const utf8string &amp;content_type=&quot;text/plain; charset=utf-8&quot;) const </div><div class="ttdef"><b>Definition:</b> http_msg.h:1142</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a52f8bb329f6a0c9c3131182983d49390"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a52f8bb329f6a0c9c3131182983d49390">web::http::http_request::absolute_uri</a></div><div class="ttdeci">uri absolute_uri() const </div><div class="ttdoc">Get an absolute URI with scheme, host, port, path, query, and fragment part of the request message...</div><div class="ttdef"><b>Definition:</b> http_msg.h:834</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a05330fa833db53d5cf7fae67890fb33e"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a05330fa833db53d5cf7fae67890fb33e">web::http::http_response::set_body</a></div><div class="ttdeci">void set_body(const json::value &amp;body_data)</div><div class="ttdoc">Sets the body of the message to contain json value. If the &#39;Content-Type&#39; header hasn&#39;t already been ...</div><div class="ttdef"><b>Definition:</b> http_msg.h:576</div></div>
<div class="ttc" id="classweb_1_1json_1_1value_html_a5bbd4bca7b13cd912ffe76af825b0c6c"><div class="ttname"><a href="classweb_1_1json_1_1value.html#a5bbd4bca7b13cd912ffe76af825b0c6c">web::json::value::serialize</a></div><div class="ttdeci">_ASYNCRTIMP utility::string_t serialize() const </div><div class="ttdoc">Serializes the current JSON value to a C++ string. </div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a7bb84af37dff1025e18b5c7f6d326bff"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a7bb84af37dff1025e18b5c7f6d326bff">web::http::http_request::set_body</a></div><div class="ttdeci">void set_body(utf8string &amp;&amp;body_text, const utf8string &amp;content_type=utf8string(&quot;text/plain; charset=utf-8&quot;))</div><div class="ttdoc">Sets the body of the message to a textual string and set the "Content-Type" header. Assumes the character encoding of the string is UTF-8. </div><div class="ttdef"><b>Definition:</b> http_msg.h:921</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_afa00491ba45afcca6e988acdfe0434b4"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#afa00491ba45afcca6e988acdfe0434b4">web::http::http_request::set_method</a></div><div class="ttdeci">void set_method(const http::method &amp;method) const </div><div class="ttdoc">Get the method (GET/PUT/POST/DELETE) of the request message. </div><div class="ttdef"><b>Definition:</b> http_msg.h:802</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a092bfc840766247d5f3a4971a0164418"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a092bfc840766247d5f3a4971a0164418">web::http::http_response::set_body</a></div><div class="ttdeci">void set_body(const utf8string &amp;body_text, const utf8string &amp;content_type=utf8string(&quot;text/plain; charset=utf-8&quot;))</div><div class="ttdoc">Sets the body of the message to a textual string and set the "Content-Type" header. Assumes the character encoding of the string is UTF-8. </div><div class="ttdef"><b>Definition:</b> http_msg.h:539</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_ac38a00ce543ac6e7a27dfbb164bbebe4"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#ac38a00ce543ac6e7a27dfbb164bbebe4">web::http::http_request::extract_utf8string</a></div><div class="ttdeci">pplx::task&lt; utf8string &gt; extract_utf8string(bool ignore_content_type=false)</div><div class="ttdoc">Extract the body of the request message as a UTF-8 string value, checking that the content type is a ...</div><div class="ttdef"><b>Definition:</b> http_msg.h:872</div></div>
<div class="ttc" id="namespaceweb_1_1http_html_a10753d257365e0864768e18dd985e82a"><div class="ttname"><a href="namespaceweb_1_1http.html#a10753d257365e0864768e18dd985e82a">web::http::method</a></div><div class="ttdeci">utility::string_t method</div><div class="ttdoc">Predefined method strings for the standard HTTP methods mentioned in the HTTP 1.1 specification...</div><div class="ttdef"><b>Definition:</b> http_msg.h:62</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__pipeline_html"><div class="ttname"><a href="classweb_1_1http_1_1http__pipeline.html">web::http::http_pipeline</a></div><div class="ttdef"><b>Definition:</b> http_msg.h:1379</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a3befbd7c8d0a1c9b135d9f8f34a5281f"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a3befbd7c8d0a1c9b135d9f8f34a5281f">web::http::http_request::extract_utf16string</a></div><div class="ttdeci">pplx::task&lt; utf16string &gt; extract_utf16string(bool ignore_content_type=false)</div><div class="ttdoc">Extract the body of the request message as a UTF-16 string value, checking that the content type is a...</div><div class="ttdef"><b>Definition:</b> http_msg.h:884</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_ab71c6bb901c58736a732a05ec0aff4e7"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#ab71c6bb901c58736a732a05ec0aff4e7">web::http::http_request::_create_request</a></div><div class="ttdeci">static http_request _create_request(std::unique_ptr&lt; http::details::_http_server_context &gt; server_context)</div><div class="ttdoc">These are used for the initial creation of the HTTP request. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1260</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__pipeline_html_ab1d1ed2449ecdfd74b81f628ecbecce8"><div class="ttname"><a href="classweb_1_1http_1_1http__pipeline.html#ab1d1ed2449ecdfd74b81f628ecbecce8">web::http::http_pipeline::append</a></div><div class="ttdeci">void append(const std::shared_ptr&lt; http_pipeline_stage &gt; &amp;stage)</div><div class="ttdoc">Adds an HTTP pipeline stage to the pipeline. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1410</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__pipeline__stage_html_a1d2c22d9e781fd00708a5a0c2d28e445"><div class="ttname"><a href="classweb_1_1http_1_1http__pipeline__stage.html#a1d2c22d9e781fd00708a5a0c2d28e445">web::http::http_pipeline_stage::next_stage</a></div><div class="ttdeci">const std::shared_ptr&lt; http_pipeline_stage &gt; &amp; next_stage() const </div><div class="ttdoc">Gets the next stage in the pipeline. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1327</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a18e06374ab1a6fac827d50005c1d6a13"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a18e06374ab1a6fac827d50005c1d6a13">web::http::http_request::request_uri</a></div><div class="ttdeci">const uri &amp; request_uri() const </div><div class="ttdoc">Get the underling URI of the request message. </div><div class="ttdef"><b>Definition:</b> http_msg.h:808</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1http__msg__base_html_a87b9b185ec247b383d7663c0143368ed"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1http__msg__base.html#a87b9b185ec247b383d7663c0143368ed">web::http::details::http_msg_base::m_inStream</a></div><div class="ttdeci">concurrency::streams::istream m_inStream</div><div class="ttdoc">Stream to read the message body. By default this is an invalid stream. The user could set the instrea...</div><div class="ttdef"><b>Definition:</b> http_msg.h:317</div></div>
<div class="ttc" id="namespaceutility_1_1conversions_html_ac56351f05efb283401aac4249b816894"><div class="ttname"><a href="namespaceutility_1_1conversions.html#ac56351f05efb283401aac4249b816894">utility::conversions::to_utf16string</a></div><div class="ttdeci">_ASYNCRTIMP utf16string __cdecl to_utf16string(const std::string &amp;value)</div><div class="ttdoc">Converts to a UTF-16 from string. </div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a3929b2eb63efc64caacab71aa6bb273d"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a3929b2eb63efc64caacab71aa6bb273d">web::http::http_response::set_body</a></div><div class="ttdeci">void set_body(const concurrency::streams::istream &amp;stream, utility::size64_t content_length, const utility::string_t &amp;content_type=_XPLATSTR(&quot;application/octet-stream&quot;))</div><div class="ttdoc">Defines a stream that will be relied on to provide the body of the HTTP message when it is sent...</div><div class="ttdef"><b>Definition:</b> http_msg.h:636</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a05d6cc0210ff53e18e46e5591ce355ab"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a05d6cc0210ff53e18e46e5591ce355ab">web::http::http_request::set_body</a></div><div class="ttdeci">void set_body(const concurrency::streams::istream &amp;stream, const utility::string_t &amp;content_type=_XPLATSTR(&quot;application/octet-stream&quot;))</div><div class="ttdoc">Defines a stream that will be relied on to provide the body of the HTTP message when it is sent...</div><div class="ttdef"><b>Definition:</b> http_msg.h:1018</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1http__msg__base_html_a0cf7d9a6e2130bb43ecbb50e0d3b394c"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1http__msg__base.html#a0cf7d9a6e2130bb43ecbb50e0d3b394c">web::http::details::http_msg_base::parse_and_check_content_type</a></div><div class="ttdeci">utility::string_t parse_and_check_content_type(bool ignore_content_type, const std::function&lt; bool(const utility::string_t &amp;)&gt; &amp;check_content_type)</div><div class="ttdoc">Helper function for extract functions. Parses the Content-Type header and check to make sure it match...</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__exception_html_a6c1c5eca862d09511eb7ea6aff4d39ec"><div class="ttname"><a href="classweb_1_1http_1_1http__exception.html#a6c1c5eca862d09511eb7ea6aff4d39ec">web::http::http_exception::what</a></div><div class="ttdeci">const char * what() const CPPREST_NOEXCEPT</div><div class="ttdoc">Gets a string identifying the cause of the exception. </div><div class="ttdef"><b>Definition:</b> http_msg.h:197</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1__http__response_html"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1__http__response.html">web::http::details::_http_response</a></div><div class="ttdoc">Internal representation of an HTTP response. </div><div class="ttdef"><b>Definition:</b> http_msg.h:349</div></div>
<div class="ttc" id="classpplx_1_1task_html"><div class="ttname"><a href="classpplx_1_1task.html">pplx::task</a></div><div class="ttdoc">The Parallel Patterns Library (PPL) task class. A task object represents work that can be executed as...</div><div class="ttdef"><b>Definition:</b> pplxtasks.h:176</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a2de616fedbe4b50ce5a67bce00675968"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a2de616fedbe4b50ce5a67bce00675968">web::http::http_response::extract_json</a></div><div class="ttdeci">pplx::task&lt; json::value &gt; extract_json(bool ignore_content_type=false) const </div><div class="ttdoc">Extracts the body of the response message into a json value, checking that the content type is applic...</div><div class="ttdef"><b>Definition:</b> http_msg.h:499</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__exception_html_afdafc90732ab3f3e1b282a80bb025748"><div class="ttname"><a href="classweb_1_1http_1_1http__exception.html#afdafc90732ab3f3e1b282a80bb025748">web::http::http_exception::http_exception</a></div><div class="ttdeci">http_exception(int errorCode, const std::error_category &amp;cat)</div><div class="ttdoc">Creates an http_exception with from a error code and category. The message of the error code will be ...</div><div class="ttdef"><b>Definition:</b> http_msg.h:188</div></div>
<div class="ttc" id="structweb_1_1http_1_1http__status__to__phrase_html"><div class="ttname"><a href="structweb_1_1http_1_1http__status__to__phrase.html">web::http::http_status_to_phrase</a></div><div class="ttdef"><b>Definition:</b> http_msg.h:108</div></div>
<div class="ttc" id="classpplx_1_1cancellation__token_html"><div class="ttname"><a href="classpplx_1_1cancellation__token.html">pplx::cancellation_token</a></div><div class="ttdoc">The cancellation_token class represents the ability to determine whether some operation has been requ...</div><div class="ttdef"><b>Definition:</b> pplxcancellation_token.h:712</div></div>
<div class="ttc" id="classpplx_1_1details_1_1recursive__lock__impl_html"><div class="ttname"><a href="classpplx_1_1details_1_1recursive__lock__impl.html">pplx::details::recursive_lock_impl</a></div><div class="ttdoc">Recursive mutex </div><div class="ttdef"><b>Definition:</b> pplxlinux.h:196</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a212c821976f2348adb406602a8f805d5"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a212c821976f2348adb406602a8f805d5">web::http::http_response::body</a></div><div class="ttdeci">concurrency::streams::istream body() const </div><div class="ttdoc">Produces a stream which the caller may use to retrieve data from an incoming request. </div><div class="ttdef"><b>Definition:</b> http_msg.h:651</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a0f89a02afcb62a8f11dbf955b40410f2"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a0f89a02afcb62a8f11dbf955b40410f2">web::http::http_request::set_body</a></div><div class="ttdeci">void set_body(const concurrency::streams::istream &amp;stream, utility::size64_t content_length, const utility::string_t &amp;content_type=_XPLATSTR(&quot;application/octet-stream&quot;))</div><div class="ttdoc">Defines a stream that will be relied on to provide the body of the HTTP message when it is sent...</div><div class="ttdef"><b>Definition:</b> http_msg.h:1034</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__pipeline_html_afe6eacec681ee3d15bc5a3eb107d9dcc"><div class="ttname"><a href="classweb_1_1http_1_1http__pipeline.html#afe6eacec681ee3d15bc5a3eb107d9dcc">web::http::http_pipeline::propagate</a></div><div class="ttdeci">pplx::task&lt; http_response &gt; propagate(http_request request)</div><div class="ttdoc">Initiate an http request into the pipeline </div><div class="ttdef"><b>Definition:</b> http_msg.h:1396</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a94076d78fd692d579a28b335a9c920f9"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a94076d78fd692d579a28b335a9c920f9">web::http::http_response::set_body</a></div><div class="ttdeci">void set_body(const concurrency::streams::istream &amp;stream, const utility::string_t &amp;content_type=_XPLATSTR(&quot;application/octet-stream&quot;))</div><div class="ttdoc">Defines a stream that will be relied on to provide the body of the HTTP message when it is sent...</div><div class="ttdef"><b>Definition:</b> http_msg.h:620</div></div>
<div class="ttc" id="classweb_1_1json_1_1value_html"><div class="ttname"><a href="classweb_1_1json_1_1value.html">web::json::value</a></div><div class="ttdoc">A JSON value represented as a C++ class. </div><div class="ttdef"><b>Definition:</b> json.h:83</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1http__msg__base_html_a89ebf9e29561e7fbb0dd649f246a7933"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1http__msg__base.html#a89ebf9e29561e7fbb0dd649f246a7933">web::http::details::http_msg_base::set_outstream</a></div><div class="ttdeci">void set_outstream(const concurrency::streams::ostream &amp;outstream, bool is_default)</div><div class="ttdoc">Set the stream through which the message body could be written </div><div class="ttdef"><b>Definition:</b> http_msg.h:277</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a31034edca1a1ffac63fb7d566a407070"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a31034edca1a1ffac63fb7d566a407070">web::http::http_request::set_body</a></div><div class="ttdeci">void set_body(const utf16string &amp;body_text, utf16string content_type=::utility::conversions::to_utf16string(&quot;text/plain&quot;))</div><div class="ttdoc">Sets the body of the message to a textual string and set the "Content-Type" header. Assumes the character encoding of the string is UTF-16 will perform conversion to UTF-8. </div><div class="ttdef"><b>Definition:</b> http_msg.h:951</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a71a2b663915b4a39c715b09fd8c1df3a"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a71a2b663915b4a39c715b09fd8c1df3a">web::http::http_request::content_ready</a></div><div class="ttdeci">pplx::task&lt; http_request &gt; content_ready() const </div><div class="ttdoc">Signals the user (listener) when all the data for this request message has been received. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1220</div></div>
<div class="ttc" id="classpplx_1_1task_3_01void_01_4_html"><div class="ttname"><a href="classpplx_1_1task_3_01void_01_4.html">pplx::task&lt; void &gt;</a></div><div class="ttdoc">The Parallel Patterns Library (PPL) task class. A task object represents work that can be executed as...</div><div class="ttdef"><b>Definition:</b> pplxtasks.h:4173</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a2100f0d3d854550c94acae88a2ba46c5"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a2100f0d3d854550c94acae88a2ba46c5">web::http::http_request::http_request</a></div><div class="ttdeci">http_request(http::method mtd)</div><div class="ttdoc">Constructs a new HTTP request with the given request method. </div><div class="ttdef"><b>Definition:</b> http_msg.h:784</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a0ca073a1623724b450f56c5c3f9eb043"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a0ca073a1623724b450f56c5c3f9eb043">web::http::http_response::status_code</a></div><div class="ttdeci">http::status_code status_code() const </div><div class="ttdoc">Gets the status code of the response message. </div><div class="ttdef"><b>Definition:</b> http_msg.h:405</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a91d11a840d30737505c614c82a716c06"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a91d11a840d30737505c614c82a716c06">web::http::http_response::http_response</a></div><div class="ttdeci">http_response(http::status_code code)</div><div class="ttdoc">Constructs a response with given status code, no headers, and no body. </div><div class="ttdef"><b>Definition:</b> http_msg.h:398</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__exception_html_a54528c24410f991dcb38f535dae17a64"><div class="ttname"><a href="classweb_1_1http_1_1http__exception.html#a54528c24410f991dcb38f535dae17a64">web::http::http_exception::http_exception</a></div><div class="ttdeci">http_exception(int errorCode)</div><div class="ttdoc">Creates an http_exception with from a error code using the current platform error category...</div><div class="ttdef"><b>Definition:</b> http_msg.h:154</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_af947ade6138106cb424c68b8bed9d641"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#af947ade6138106cb424c68b8bed9d641">web::http::http_request::set_body</a></div><div class="ttdeci">void set_body(const json::value &amp;body_data)</div><div class="ttdoc">Sets the body of the message to contain json value. If the &#39;Content-Type&#39; header hasn&#39;t already been ...</div><div class="ttdef"><b>Definition:</b> http_msg.h:974</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_ae71b807d0263ed2a3b5838b6bfa30437"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#ae71b807d0263ed2a3b5838b6bfa30437">web::http::http_request::reply</a></div><div class="ttdeci">pplx::task&lt; void &gt; reply(http::status_code status, const utf8string &amp;body_data, const utf8string &amp;content_type=&quot;text/plain; charset=utf-8&quot;) const </div><div class="ttdoc">Responds to this HTTP request with a string. Assumes the character encoding of the string is UTF-8...</div><div class="ttdef"><b>Definition:</b> http_msg.h:1161</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a26cf25f7f0180a3e5838f38e8de660ee"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a26cf25f7f0180a3e5838f38e8de660ee">web::http::http_request::set_body</a></div><div class="ttdeci">void set_body(std::vector&lt; unsigned char &gt; &amp;&amp;body_data)</div><div class="ttdoc">Sets the body of the message to the contents of a byte vector. If the &#39;Content-Type&#39; header hasn&#39;t al...</div><div class="ttdef"><b>Definition:</b> http_msg.h:989</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a3df4300099f1b1ee2fe69968280a3e60"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a3df4300099f1b1ee2fe69968280a3e60">web::http::http_response::set_body</a></div><div class="ttdeci">void set_body(std::vector&lt; unsigned char &gt; &amp;&amp;body_data)</div><div class="ttdoc">Sets the body of the message to the contents of a byte vector. If the &#39;Content-Type&#39; header hasn&#39;t al...</div><div class="ttdef"><b>Definition:</b> http_msg.h:591</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1__http__request_html"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1__http__request.html">web::http::details::_http_request</a></div><div class="ttdoc">Internal representation of an HTTP request message. </div><div class="ttdef"><b>Definition:</b> http_msg.h:680</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a6d7c632f0de4ba389a5218bc071033c1"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a6d7c632f0de4ba389a5218bc071033c1">web::http::http_request::http_request</a></div><div class="ttdeci">http_request()</div><div class="ttdoc">Constructs a new HTTP request with the &#39;GET&#39; method. </div><div class="ttdef"><b>Definition:</b> http_msg.h:777</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html">web::http::http_request</a></div><div class="ttdoc">Represents an HTTP request. </div><div class="ttdef"><b>Definition:</b> http_msg.h:771</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a5f8aad665e1c0309ec3f788a4dfc9f05"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a5f8aad665e1c0309ec3f788a4dfc9f05">web::http::http_request::relative_uri</a></div><div class="ttdeci">uri relative_uri() const </div><div class="ttdoc">Gets a reference the URI path, query, and fragment part of this request message. This will be appende...</div><div class="ttdef"><b>Definition:</b> http_msg.h:825</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1function__pipeline__wrapper_html_ad44ef04a8ed54536d63d1e1fa7adbfbd"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1function__pipeline__wrapper.html#ad44ef04a8ed54536d63d1e1fa7adbfbd">web::http::details::function_pipeline_wrapper::propagate</a></div><div class="ttdeci">virtual pplx::task&lt; http_response &gt; propagate(http_request request) override</div><div class="ttdoc">Runs this stage against the given request and passes onto the next stage. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1365</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a6b676982783b8bc89335e5855943c0e7"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a6b676982783b8bc89335e5855943c0e7">web::http::http_request::get_response</a></div><div class="ttdeci">pplx::task&lt; http_response &gt; get_response() const </div><div class="ttdoc">Gets a task representing the response that will eventually be sent. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1230</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_afe2e87b8b4aacdec1aad9a8f7c0baae9"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#afe2e87b8b4aacdec1aad9a8f7c0baae9">web::http::http_response::to_string</a></div><div class="ttdeci">utility::string_t to_string() const </div><div class="ttdoc">Generates a string representation of the message, including the body when possible. Mainly this should be used for debugging purposes as it has to copy the message body and doesn&#39;t have excellent performance. </div><div class="ttdef"><b>Definition:</b> http_msg.h:455</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a7d1e5817410850b06abde2b712b6ebce"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a7d1e5817410850b06abde2b712b6ebce">web::http::http_request::reply</a></div><div class="ttdeci">pplx::task&lt; void &gt; reply(http::status_code status) const </div><div class="ttdoc">Asynchronously responses to this HTTP request. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1113</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1http__msg__base_html_a2258c432d92e6532fe3d3e522bde6b96"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1http__msg__base.html#a2258c432d92e6532fe3d3e522bde6b96">web::http::details::http_msg_base::_prepare_to_receive_data</a></div><div class="ttdeci">_ASYNCRTIMP void _prepare_to_receive_data()</div><div class="ttdoc">Prepare the message with an output stream to receive network data </div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1http__msg__base_html_a05edb98c26a2d801f06ef43ca5352bac"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1http__msg__base.html#a05edb98c26a2d801f06ef43ca5352bac">web::http::details::http_msg_base::m_outStream</a></div><div class="ttdeci">concurrency::streams::ostream m_outStream</div><div class="ttdoc">stream to write the msg body By default this is an invalid stream. The user could set this on the res...</div><div class="ttdef"><b>Definition:</b> http_msg.h:325</div></div>
<div class="ttc" id="classweb_1_1uri__builder_html"><div class="ttname"><a href="classweb_1_1uri__builder.html">web::uri_builder</a></div><div class="ttdoc">Builder for constructing URIs incrementally. </div><div class="ttdef"><b>Definition:</b> uri_builder.h:40</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1http__msg__base_html_acca11fe632e7990b4d2a65519f1ca2f0"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1http__msg__base.html#acca11fe632e7990b4d2a65519f1ca2f0">web::http::details::http_msg_base::instream</a></div><div class="ttdeci">const concurrency::streams::istream &amp; instream() const </div><div class="ttdoc">Get the stream through which the message body could be read </div><div class="ttdef"><b>Definition:</b> http_msg.h:272</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a4bc99499f785b3e074d79c9370f1d847"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a4bc99499f785b3e074d79c9370f1d847">web::http::http_response::set_body</a></div><div class="ttdeci">void set_body(const std::vector&lt; unsigned char &gt; &amp;body_data)</div><div class="ttdoc">Sets the body of the message to the contents of a byte vector. If the &#39;Content-Type&#39; header hasn&#39;t al...</div><div class="ttdef"><b>Definition:</b> http_msg.h:605</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a31d1463151d1b65f150ae03b2dca447f"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a31d1463151d1b65f150ae03b2dca447f">web::http::http_request::reply</a></div><div class="ttdeci">pplx::task&lt; void &gt; reply(http::status_code status, const json::value &amp;body_data) const </div><div class="ttdoc">Responds to this HTTP request. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1124</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__pipeline_html_aa44c4f89faf80ebd6bd66dc20e8a9300"><div class="ttname"><a href="classweb_1_1http_1_1http__pipeline.html#aa44c4f89faf80ebd6bd66dc20e8a9300">web::http::http_pipeline::set_last_stage</a></div><div class="ttdeci">void set_last_stage(const std::shared_ptr&lt; http_pipeline_stage &gt; &amp;last)</div><div class="ttdoc">Sets the last stage of the pipeline. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1428</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a88105e4a2ae4b71824346816ce8757af"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a88105e4a2ae4b71824346816ce8757af">web::http::http_response::headers</a></div><div class="ttdeci">http_headers &amp; headers()</div><div class="ttdoc">Gets the headers of the response message. </div><div class="ttdef"><b>Definition:</b> http_msg.h:437</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a0cd0f1c49cab39210517925a3644db1f"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a0cd0f1c49cab39210517925a3644db1f">web::http::http_request::extract_string</a></div><div class="ttdeci">pplx::task&lt; utility::string_t &gt; extract_string(bool ignore_content_type=false)</div><div class="ttdoc">Extract the body of the request message as a string value, checking that the content type is a MIME t...</div><div class="ttdef"><b>Definition:</b> http_msg.h:860</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1__http__server__context_html"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1__http__server__context.html">web::http::details::_http_server_context</a></div><div class="ttdoc">Base structure for associating internal server information with an HTTP request/response. </div><div class="ttdef"><b>Definition:</b> http_msg.h:338</div></div>
<div class="ttc" id="namespaceutility_1_1conversions_html_ac8d51543ee17a75bc289040c802d51af"><div class="ttname"><a href="namespaceutility_1_1conversions.html#ac8d51543ee17a75bc289040c802d51af">utility::conversions::to_utf8string</a></div><div class="ttdeci">_ASYNCRTIMP std::string __cdecl to_utf8string(std::string value)</div><div class="ttdoc">Converts to a UTF-8 string. </div></div>
<div class="ttc" id="namespaceutility_html"><div class="ttname"><a href="namespaceutility.html">utility</a></div><div class="ttdoc">Various utilities for string conversions and date and time manipulation. </div><div class="ttdef"><b>Definition:</b> asyncrt_utils.h:50</div></div>
<div class="ttc" id="classpplx_1_1task__completion__event_html"><div class="ttname"><a href="classpplx_1_1task__completion__event.html">pplx::task_completion_event&lt; utility::size64_t &gt;</a></div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_ae38790c35476ea1214473d2fc6ed55c9"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#ae38790c35476ea1214473d2fc6ed55c9">web::http::http_request::set_response_stream</a></div><div class="ttdeci">void set_response_stream(const concurrency::streams::ostream &amp;stream)</div><div class="ttdoc">Defines a stream that will be relied on to hold the body of the HTTP response message that results fr...</div><div class="ttdef"><b>Definition:</b> http_msg.h:1063</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_a6c0c3f7ca3c0289f036e7d2005802012"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#a6c0c3f7ca3c0289f036e7d2005802012">web::http::http_request::_reply_if_not_already</a></div><div class="ttdeci">pplx::task&lt; void &gt; _reply_if_not_already(status_code status)</div><div class="ttdoc">Sends a response if one has not already been sent. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1250</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__response_html_a99d4b658f735dfd922eb281e0e0b9217"><div class="ttname"><a href="classweb_1_1http_1_1http__response.html#a99d4b658f735dfd922eb281e0e0b9217">web::http::http_response::extract_utf16string</a></div><div class="ttdeci">pplx::task&lt; utf16string &gt; extract_utf16string(bool ignore_content_type=false) const </div><div class="ttdoc">Extracts the body of the response message as a UTF-16 string value, checking that the content type is...</div><div class="ttdef"><b>Definition:</b> http_msg.h:487</div></div>
<div class="ttc" id="classweb_1_1http_1_1http__request_html_af34a0f0f1f1b43df856df2ea1f9273be"><div class="ttname"><a href="classweb_1_1http_1_1http__request.html#af34a0f0f1f1b43df856df2ea1f9273be">web::http::http_request::reply</a></div><div class="ttdeci">pplx::task&lt; void &gt; reply(const http_response &amp;response) const </div><div class="ttdoc">Asynchronously responses to this HTTP request. </div><div class="ttdef"><b>Definition:</b> http_msg.h:1106</div></div>
<div class="ttc" id="namespaceweb_1_1http_1_1message__direction_html_a447bc1591a2929db97f0f9513a2ad175"><div class="ttname"><a href="namespaceweb_1_1http_1_1message__direction.html#a447bc1591a2929db97f0f9513a2ad175">web::http::message_direction::direction</a></div><div class="ttdeci">direction</div><div class="ttdoc">Enumeration used to denote the direction of a message: a request with a body is an upload...</div><div class="ttdef"><b>Definition:</b> http_msg.h:99</div></div>
<div class="ttc" id="classweb_1_1http_1_1header__names_html"><div class="ttname"><a href="classweb_1_1http_1_1header__names.html">web::http::header_names</a></div><div class="ttdoc">Constants for the HTTP headers mentioned in RFC 2616. </div><div class="ttdef"><b>Definition:</b> http_msg.h:117</div></div>
<div class="ttc" id="classweb_1_1http_1_1details_1_1http__msg__base_html_ad758b458da3051b05c8c2c22453754d3"><div class="ttname"><a href="classweb_1_1http_1_1details_1_1http__msg__base.html#ad758b458da3051b05c8c2c22453754d3">web::http::details::http_msg_base::set_instream</a></div><div class="ttdeci">void set_instream(const concurrency::streams::istream &amp;instream)</div><div class="ttdoc">Set the stream through which the message body could be read </div><div class="ttdef"><b>Definition:</b> http_msg.h:267</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
